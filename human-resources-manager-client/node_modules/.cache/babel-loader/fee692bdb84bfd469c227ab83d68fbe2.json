{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\Komputer\\\\source\\\\repos\\\\HumanResourcesManager\\\\human-resources-manager-client\\\\src\\\\Components\\\\Teams\\\\AddTeamMembers.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport { DarkTextField, DarkSelect, ConfirmDialog } from '../GlobalComponents';\nimport APIURL from '../../Services/Globals';\nimport { makeStyles, withStyles } from '@material-ui/core/styles';\nimport { useLocation } from \"react-router-dom\";\nimport Skeleton from '@material-ui/lab/Skeleton';\nimport Paper from '@material-ui/core/Paper';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TablePagination from '@material-ui/core/TablePagination';\nimport TableRow from '@material-ui/core/TableRow';\nimport Divider from '@material-ui/core/Divider';\nimport Button from '@material-ui/core/Button';\nimport Fab from '@material-ui/core/Fab';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport ClearIcon from '@material-ui/icons/Clear';\nimport VisibilityIcon from '@material-ui/icons/Visibility';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport CloseIcon from '@material-ui/icons/Close';\nimport CheckCircleIcon from '@material-ui/icons/CheckCircle';\nimport Snackbar from '@material-ui/core/Snackbar';\nimport MuiAlert from '@material-ui/lab/Alert';\n\nfunction Alert(props) {\n  return /*#__PURE__*/_jsxDEV(MuiAlert, {\n    elevation: 6,\n    variant: \"filled\",\n    ...props\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 29,\n    columnNumber: 12\n  }, this);\n}\n\n_c = Alert;\nconst StyledTableCell = withStyles(theme => ({\n  head: {\n    backgroundColor: theme.palette.grey[800],\n    color: theme.palette.common.white\n  }\n}))(TableCell);\nconst useStyles = makeStyles(theme => ({\n  root: {\n    marginTop: '1rem',\n    width: '100%'\n  },\n  tab: {\n    \"& .MuiCheckbox-colorSecondary.Mui-checked\": {\n      color: '#3f51b5'\n    },\n    \"& .Mui-selected\": {\n      backgroundColor: theme.palette.grey[500]\n    },\n    backgroundColor: theme.palette.grey[400],\n    \"& .MuiTableCell-body\": {\n      color: 'black'\n    },\n    \"& .MuiTableRow-hover:hover\": {\n      backgroundColor: theme.palette.grey[500]\n    }\n  },\n  tabTop: {\n    display: 'flex',\n    padding: '8px',\n    paddingLeft: '17px',\n    justifyContent: 'space-between',\n    \"& h2\": {\n      margin: '2px'\n    },\n    \"& a\": {\n      textDecoration: \"none\",\n      color: \"white\"\n    }\n  },\n  container: {\n    maxHeight: '52vh'\n  },\n  pagination: {\n    background: theme.palette.grey[800],\n    color: \"white\"\n  },\n  button: {\n    background: theme.palette.grey[300],\n    padding: \".4rem\",\n    \"margin-left\": \".2rem\",\n    \"margin-right\": \".2rem\",\n    color: theme.palette.grey[800]\n  },\n  selButton: {\n    width: '32px',\n    height: '32px',\n    marginLeft: '8px'\n  },\n  searchBox: {\n    padding: \"1px 8px 0 0\",\n    display: \"flex\",\n    justifyContent: \"space-between\"\n  },\n  whiteText: {\n    color: \"white\",\n    marginLeft: \"0px\",\n    marginRight: \"8px\"\n  }\n}));\n\nconst AddTeamMembers = ({\n  isSingle,\n  onSelectionConfirm,\n  selected\n}) => {\n  _s();\n\n  const classes = useStyles();\n  const location = useLocation();\n  const [employees, setEmployees] = useState([]);\n  const [selEmployees, setSelEmployees] = useState(location.members !== undefined ? location.members : selected[0] !== undefined ? selected : []);\n  const [departments, setDepartments] = useState([]);\n  const [positions, setPositions] = useState([]);\n  const [page, setPage] = useState(0);\n  const [rowsPerPage, setRowsPerPage] = useState(9);\n  const [totalItems, setTotalItems] = useState(1);\n  const firstRecord = {\n    id: 0,\n    name: \"All\"\n  };\n  const [orderOptions] = useState([{\n    id: \"name\",\n    name: \"Name\"\n  }, {\n    id: \"surname\",\n    name: \"Surame\"\n  }, {\n    id: \"department\",\n    name: \"Department\"\n  }, {\n    id: \"position\",\n    name: \"Position\"\n  }, {\n    id: \"date-asc\",\n    name: \"Date-asc\"\n  }, {\n    id: \"date-desc\",\n    name: \"Date-desc\"\n  }]);\n  const [remoteOptions] = useState([{\n    id: '',\n    name: \"All\"\n  }, {\n    id: true,\n    name: \"Remote\"\n  }, {\n    id: false,\n    name: \"Office\"\n  }]);\n  const [seniorityLvs] = useState([firstRecord, {\n    id: 1,\n    name: \"Junior\"\n  }, {\n    id: 2,\n    name: \"Regular\"\n  }, {\n    id: 3,\n    name: \"Senior\"\n  }]);\n  const [searchParams, setSearchParams] = useState({\n    searchString: '',\n    department: firstRecord,\n    position: firstRecord,\n    seniority: firstRecord,\n    orderBy: orderOptions[4],\n    isRemote: remoteOptions[0]\n  });\n  const [allertProps, setAllertProps] = useState({\n    text: '',\n    open: false,\n    type: 'success'\n  });\n  useEffect(() => {\n    getEmploees(page + 1, rowsPerPage);\n  }, [page, rowsPerPage]);\n  useEffect(() => {\n    getSearchProps();\n  }, []);\n\n  const getEmploees = async (page, size) => {\n    const requestOptions = {\n      method: 'Get',\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    };\n    let urlQuery = \"employee/all?page=\".concat(page, \"&size=\").concat(size, \"&order=\").concat(searchParams.orderBy.id) + \"&search=\".concat(searchParams.searchString) + \"&department=\".concat(searchParams.department.id) + \"&position=\".concat(searchParams.position.id) + \"&seniority=\".concat(searchParams.seniority.id === 0 ? '' : searchParams.seniority.name) + \"&isremote=\".concat(searchParams.isRemote.id);\n    urlQuery += isSingle === true ? \"&leaderfilter=true\" : ''; // urlQuery += selected[0] === undefined ? `&teamMembersFilter=true` : '';\n\n    console.table(selected);\n    console.log(urlQuery);\n    await fetch(APIURL + urlQuery, requestOptions).then(response => response.json()).then(data => (setEmployees(data.items), setTotalItems(data.totalItems)));\n  };\n\n  const getSearchProps = async () => {\n    const requestOptions = {\n      method: 'Get'\n    };\n    await fetch(APIURL + \"departments\", requestOptions).then(response => response.json()).then(data => {\n      data.unshift(firstRecord);\n      setDepartments(data);\n    });\n    await fetch(APIURL + \"positions\", requestOptions).then(response => response.json()).then(data => {\n      data.unshift(firstRecord);\n      setPositions(data);\n    });\n  };\n\n  const handleChangePage = (event, newPage) => {\n    setPage(newPage);\n  };\n\n  const handleChangeRowsPerPage = event => {\n    setRowsPerPage(+event.target.value);\n    setPage(0);\n  };\n\n  const handleChangeSearchParams = event => {\n    setSearchParams({\n      searchParams,\n      searchString: event.target.name === \"searchInput\" ? event.target.value : searchParams.searchString,\n      department: event.target.name === \"departmentSelect\" ? event.target.value : searchParams.department,\n      position: event.target.name === \"positionSelect\" ? event.target.value : searchParams.position,\n      seniority: event.target.name === \"senioritySelect\" ? event.target.value : searchParams.seniority,\n      orderBy: event.target.name === \"orderBy\" ? event.target.value : searchParams.orderBy,\n      isRemote: event.target.name === \"isRemote\" ? event.target.value : searchParams.isRemote\n    });\n  };\n\n  const handleSearch = () => {\n    getEmploees(1, rowsPerPage);\n  };\n\n  const hendleAddMembers = async () => {\n    if (location.teamid !== undefined) {\n      let membersID = [];\n      selEmployees.forEach(employee => {\n        membersID.push(employee.id);\n      });\n      const requestOptions = {\n        method: 'Put',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(membersID)\n      };\n      await fetch(APIURL + \"teams/members/\".concat(location.teamid), requestOptions).then(data => {\n        console.log(data);\n        setAllertProps({\n          text: \"Team Members Set\",\n          open: true,\n          type: \"success\"\n        });\n      }, err => {\n        console.log(err);\n        setAllertProps({\n          text: \"Set Team Members Error!\",\n          open: true,\n          type: \"error\"\n        });\n      });\n    } else {\n      onSelectionConfirm(selEmployees);\n      setAllertProps({\n        text: isSingle ? \"Team Leader Set\" : \"Team Members Set\",\n        open: true,\n        type: \"success\"\n      });\n    }\n  };\n\n  const handleRowClick = (event, employee) => {\n    const selectedIndex = selEmployees.findIndex(e => e.id == employee.id);\n    let newSelected = [];\n\n    if (selectedIndex === -1) {\n      if (isSingle) {\n        newSelected = [employee];\n      } else newSelected = newSelected.concat(selEmployees, employee);\n    }\n\n    if (selectedIndex >= 0) {\n      newSelected = selEmployees.filter(e => e.id !== employee.id);\n    }\n\n    setSelEmployees(newSelected);\n  };\n\n  const handleUnselectAll = () => {\n    if (selEmployees.length === employees.length) {\n      getEmploees(1, rowsPerPage);\n    }\n\n    setSelEmployees([]);\n  };\n\n  const isSelected = id => selEmployees.findIndex(e => e.id == id) !== -1;\n\n  const handleAllertClose = (event, reason) => {\n    if (reason === 'clickaway') {\n      return;\n    }\n\n    setAllertProps({ ...allertProps,\n      open: false\n    });\n  };\n\n  const tabSkeleton = () => {\n    return /*#__PURE__*/_jsxDEV(Paper, {\n      className: classes.root,\n      children: [/*#__PURE__*/_jsxDEV(Skeleton, {\n        style: {\n          marginLeft: '8px',\n          marginTop: '16px'\n        },\n        animation: \"wave\",\n        width: \"21%\",\n        height: \"50px\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 301,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Skeleton, {\n        style: {\n          margin: '8px 8px 20px'\n        },\n        animation: \"wave\",\n        width: \"98%\",\n        height: \"36px\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 302,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          padding: '4px',\n          backgroundColor: '#bdbdbd'\n        },\n        children: [/*#__PURE__*/_jsxDEV(Skeleton, {\n          style: {\n            marginLeft: '8px'\n          },\n          width: \"98%\",\n          height: \"75px\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 304,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Skeleton, {\n          style: {\n            marginLeft: '8px'\n          },\n          width: \"98%\",\n          height: \"75px\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 305,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Skeleton, {\n          style: {\n            marginLeft: '8px'\n          },\n          width: \"98%\",\n          height: \"75px\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 306,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Skeleton, {\n          style: {\n            marginLeft: '8px'\n          },\n          width: \"98%\",\n          height: \"75px\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 307,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Skeleton, {\n          style: {\n            marginLeft: '8px'\n          },\n          width: \"98%\",\n          height: \"75px\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 308,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Skeleton, {\n          style: {\n            marginLeft: '8px'\n          },\n          width: \"98%\",\n          height: \"75px\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 309,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Skeleton, {\n          style: {\n            marginLeft: '8px'\n          },\n          width: \"98%\",\n          height: \"75px\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 310,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 303,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 300,\n      columnNumber: 13\n    }, this);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(Snackbar, {\n      open: allertProps.open,\n      autoHideDuration: 4000,\n      onClose: handleAllertClose,\n      children: /*#__PURE__*/_jsxDEV(Alert, {\n        onClose: handleAllertClose,\n        severity: allertProps.type,\n        children: allertProps.text\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 319,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 318,\n      columnNumber: 13\n    }, this), employees.length === 0 ? tabSkeleton() : /*#__PURE__*/_jsxDEV(Paper, {\n      className: classes.root,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: classes.tabTop,\n        children: [isSingle === undefined ? /*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Select Team Members:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 328,\n          columnNumber: 29\n        }, this) : /*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Select Team Leader:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 329,\n          columnNumber: 29\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          disabled: selEmployees.length <= 0,\n          variant: \"contained\",\n          color: \"primary\",\n          onClick: hendleAddMembers,\n          children: \"Add Selected\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 331,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 326,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(Divider, {\n        variant: \"inset\",\n        style: {\n          width: \"100%\",\n          margin: \"0\"\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 339,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(Toolbar, {\n        className: classes.searchBox,\n        children: [/*#__PURE__*/_jsxDEV(DarkTextField, {\n          onChange: handleChangeSearchParams,\n          label: \"Search...\",\n          name: \"searchInput\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 341,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(DarkSelect, {\n          label: \"Order by\",\n          name: \"orderBy\",\n          collection: orderOptions,\n          value: searchParams.orderBy,\n          onChange: handleChangeSearchParams\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 346,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(DarkSelect, {\n          label: \"Position\",\n          name: \"positionSelect\",\n          collection: positions,\n          value: searchParams.position,\n          onChange: handleChangeSearchParams\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 353,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(DarkSelect, {\n          label: \"Seniority\",\n          name: \"senioritySelect\",\n          collection: seniorityLvs,\n          value: searchParams.seniority,\n          onChange: handleChangeSearchParams\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 360,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(DarkSelect, {\n          label: \"Department\",\n          name: \"departmentSelect\",\n          collection: departments,\n          value: searchParams.department,\n          onChange: handleChangeSearchParams\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 367,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(DarkSelect, {\n          label: \"Work Type\",\n          name: \"isRemote\",\n          collection: remoteOptions,\n          value: searchParams.isRemote,\n          onChange: handleChangeSearchParams\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 374,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"contained\",\n          color: \"primary\",\n          onClick: handleSearch,\n          children: \"Search\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 381,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 340,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(Divider, {\n        variant: \"inset\",\n        style: {\n          width: \"100%\",\n          margin: \"0\"\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 383,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(TableContainer, {\n        className: classes.container,\n        children: /*#__PURE__*/_jsxDEV(Table, {\n          stickyHeader: true,\n          size: \"small\",\n          children: [/*#__PURE__*/_jsxDEV(TableHead, {\n            className: classes.tabHead,\n            children: /*#__PURE__*/_jsxDEV(TableRow, {\n              children: [/*#__PURE__*/_jsxDEV(StyledTableCell, {\n                align: \"center\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 388,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(StyledTableCell, {\n                align: \"center\",\n                children: \"ID\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 391,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(StyledTableCell, {\n                align: \"center\",\n                children: \"Name\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 394,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(StyledTableCell, {\n                align: \"center\",\n                children: \"Surname\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 397,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(StyledTableCell, {\n                align: \"center\",\n                children: \"Email\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 400,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(StyledTableCell, {\n                align: \"center\",\n                children: \"Position\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 403,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(StyledTableCell, {\n                align: \"center\",\n                children: \"Seniority\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 406,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(StyledTableCell, {\n                align: \"center\",\n                children: \"Department\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 409,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(StyledTableCell, {\n                align: \"center\",\n                children: \"Remote Work\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 412,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 387,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 386,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(TableBody, {\n            className: classes.tab,\n            children: employees.map((employee, index) => {\n              const isItemSelected = isSelected(employee.id);\n              return /*#__PURE__*/_jsxDEV(TableRow, {\n                hover: true,\n                role: \"checkbox\",\n                selected: isItemSelected,\n                onClick: e => handleRowClick(e, employee),\n                children: [/*#__PURE__*/_jsxDEV(StyledTableCell, {\n                  align: \"center\",\n                  children: /*#__PURE__*/_jsxDEV(Checkbox, {\n                    checked: isItemSelected\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 429,\n                    columnNumber: 49\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 428,\n                  columnNumber: 45\n                }, this), /*#__PURE__*/_jsxDEV(StyledTableCell, {\n                  align: \"center\",\n                  children: employee.id\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 433,\n                  columnNumber: 45\n                }, this), /*#__PURE__*/_jsxDEV(StyledTableCell, {\n                  align: \"center\",\n                  children: employee.person.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 436,\n                  columnNumber: 45\n                }, this), /*#__PURE__*/_jsxDEV(StyledTableCell, {\n                  align: \"center\",\n                  children: employee.person.surname\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 439,\n                  columnNumber: 45\n                }, this), /*#__PURE__*/_jsxDEV(StyledTableCell, {\n                  align: \"center\",\n                  children: employee.person.email\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 442,\n                  columnNumber: 45\n                }, this), /*#__PURE__*/_jsxDEV(StyledTableCell, {\n                  align: \"center\",\n                  children: employee.position.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 445,\n                  columnNumber: 45\n                }, this), /*#__PURE__*/_jsxDEV(StyledTableCell, {\n                  align: \"center\",\n                  children: employee.seniority\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 448,\n                  columnNumber: 45\n                }, this), /*#__PURE__*/_jsxDEV(StyledTableCell, {\n                  align: \"center\",\n                  children: employee.department.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 451,\n                  columnNumber: 45\n                }, this), /*#__PURE__*/_jsxDEV(StyledTableCell, {\n                  align: \"center\",\n                  children: employee.remoteWork === true ? /*#__PURE__*/_jsxDEV(CheckCircleIcon, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 456,\n                    columnNumber: 53\n                  }, this) : /*#__PURE__*/_jsxDEV(CloseIcon, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 456,\n                    columnNumber: 75\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 454,\n                  columnNumber: 45\n                }, this)]\n              }, index, true, {\n                fileName: _jsxFileName,\n                lineNumber: 421,\n                columnNumber: 41\n              }, this);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 417,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 385,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 384,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'flex',\n          justifyContent: 'space-between'\n        },\n        children: [selEmployees.length <= 0 ? /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 465,\n          columnNumber: 53\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'flex',\n            marginTop: '8px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            style: {\n              margin: '6px 0 6px 10px'\n            },\n            children: 'Selected: ' + selEmployees.length\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 467,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(Fab, {\n            className: classes.selButton,\n            color: \"primary\",\n            onClick: () => setEmployees(selEmployees),\n            children: /*#__PURE__*/_jsxDEV(VisibilityIcon, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 468,\n              columnNumber: 127\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 468,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(Fab, {\n            className: classes.selButton,\n            color: \"primary\",\n            onClick: handleUnselectAll,\n            children: /*#__PURE__*/_jsxDEV(ClearIcon, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 469,\n              columnNumber: 112\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 469,\n            columnNumber: 33\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 466,\n          columnNumber: 29\n        }, this), /*#__PURE__*/_jsxDEV(TablePagination, {\n          className: classes.pagination,\n          rowsPerPageOptions: [9, 18, 25, 32],\n          component: \"div\",\n          count: totalItems,\n          rowsPerPage: rowsPerPage,\n          page: page,\n          onPageChange: handleChangePage,\n          onRowsPerPageChange: handleChangeRowsPerPage\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 473,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 464,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 325,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 317,\n    columnNumber: 9\n  }, this);\n};\n\n_s(AddTeamMembers, \"2mlzkKXUKODV+VeqCSlFYrqzf0E=\", false, function () {\n  return [useStyles, useLocation];\n});\n\n_c2 = AddTeamMembers;\nexport default AddTeamMembers;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"Alert\");\n$RefreshReg$(_c2, \"AddTeamMembers\");","map":{"version":3,"sources":["C:/Users/Komputer/source/repos/HumanResourcesManager/human-resources-manager-client/src/Components/Teams/AddTeamMembers.js"],"names":["React","useEffect","useState","DarkTextField","DarkSelect","ConfirmDialog","APIURL","makeStyles","withStyles","useLocation","Skeleton","Paper","Table","TableBody","TableCell","TableContainer","TableHead","TablePagination","TableRow","Divider","Button","Fab","Toolbar","ClearIcon","VisibilityIcon","Checkbox","CloseIcon","CheckCircleIcon","Snackbar","MuiAlert","Alert","props","StyledTableCell","theme","head","backgroundColor","palette","grey","color","common","white","useStyles","root","marginTop","width","tab","tabTop","display","padding","paddingLeft","justifyContent","margin","textDecoration","container","maxHeight","pagination","background","button","selButton","height","marginLeft","searchBox","whiteText","marginRight","AddTeamMembers","isSingle","onSelectionConfirm","selected","classes","location","employees","setEmployees","selEmployees","setSelEmployees","members","undefined","departments","setDepartments","positions","setPositions","page","setPage","rowsPerPage","setRowsPerPage","totalItems","setTotalItems","firstRecord","id","name","orderOptions","remoteOptions","seniorityLvs","searchParams","setSearchParams","searchString","department","position","seniority","orderBy","isRemote","allertProps","setAllertProps","text","open","type","getEmploees","getSearchProps","size","requestOptions","method","headers","urlQuery","console","table","log","fetch","then","response","json","data","items","unshift","handleChangePage","event","newPage","handleChangeRowsPerPage","target","value","handleChangeSearchParams","handleSearch","hendleAddMembers","teamid","membersID","forEach","employee","push","body","JSON","stringify","err","handleRowClick","selectedIndex","findIndex","e","newSelected","concat","filter","handleUnselectAll","length","isSelected","handleAllertClose","reason","tabSkeleton","tabHead","map","index","isItemSelected","person","surname","email","remoteWork"],"mappings":";;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,SAASC,aAAT,EAAwBC,UAAxB,EAAoCC,aAApC,QAAyD,qBAAzD;AACA,OAAOC,MAAP,MAAmB,wBAAnB;AACA,SAASC,UAAT,EAAqBC,UAArB,QAAuC,0BAAvC;AACA,SAASC,WAAT,QAA4B,kBAA5B;AAEA,OAAOC,QAAP,MAAqB,2BAArB;AACA,OAAOC,KAAP,MAAkB,yBAAlB;AACA,OAAOC,KAAP,MAAkB,yBAAlB;AACA,OAAOC,SAAP,MAAsB,6BAAtB;AACA,OAAOC,SAAP,MAAsB,6BAAtB;AACA,OAAOC,cAAP,MAA2B,kCAA3B;AACA,OAAOC,SAAP,MAAsB,6BAAtB;AACA,OAAOC,eAAP,MAA4B,mCAA5B;AACA,OAAOC,QAAP,MAAqB,4BAArB;AACA,OAAOC,OAAP,MAAoB,2BAApB;AACA,OAAOC,MAAP,MAAmB,0BAAnB;AACA,OAAOC,GAAP,MAAgB,uBAAhB;AACA,OAAOC,OAAP,MAAoB,2BAApB;AACA,OAAOC,SAAP,MAAsB,0BAAtB;AACA,OAAOC,cAAP,MAA2B,+BAA3B;AACA,OAAOC,QAAP,MAAqB,4BAArB;AACA,OAAOC,SAAP,MAAsB,0BAAtB;AACA,OAAOC,eAAP,MAA4B,gCAA5B;AACA,OAAOC,QAAP,MAAqB,4BAArB;AACA,OAAOC,QAAP,MAAqB,wBAArB;;AAEA,SAASC,KAAT,CAAeC,KAAf,EAAsB;AAClB,sBAAO,QAAC,QAAD;AAAU,IAAA,SAAS,EAAE,CAArB;AAAwB,IAAA,OAAO,EAAC,QAAhC;AAAA,OAA6CA;AAA7C;AAAA;AAAA;AAAA;AAAA,UAAP;AACH;;KAFQD,K;AAIT,MAAME,eAAe,GAAGxB,UAAU,CAAEyB,KAAD,KAAY;AAC3CC,EAAAA,IAAI,EAAE;AACFC,IAAAA,eAAe,EAAEF,KAAK,CAACG,OAAN,CAAcC,IAAd,CAAmB,GAAnB,CADf;AAEFC,IAAAA,KAAK,EAAEL,KAAK,CAACG,OAAN,CAAcG,MAAd,CAAqBC;AAF1B;AADqC,CAAZ,CAAD,CAAV,CAKpB1B,SALoB,CAAxB;AAOA,MAAM2B,SAAS,GAAGlC,UAAU,CAAE0B,KAAD,KAAY;AACrCS,EAAAA,IAAI,EAAE;AACFC,IAAAA,SAAS,EAAE,MADT;AAEFC,IAAAA,KAAK,EAAE;AAFL,GAD+B;AAKrCC,EAAAA,GAAG,EAAE;AACD,iDAA6C;AACzCP,MAAAA,KAAK,EAAE;AADkC,KAD5C;AAID,uBAAmB;AACfH,MAAAA,eAAe,EAAEF,KAAK,CAACG,OAAN,CAAcC,IAAd,CAAmB,GAAnB;AADF,KAJlB;AAODF,IAAAA,eAAe,EAAEF,KAAK,CAACG,OAAN,CAAcC,IAAd,CAAmB,GAAnB,CAPhB;AAQD,4BAAwB;AACpBC,MAAAA,KAAK,EAAE;AADa,KARvB;AAYD,kCAA8B;AAAEH,MAAAA,eAAe,EAAEF,KAAK,CAACG,OAAN,CAAcC,IAAd,CAAmB,GAAnB;AAAnB;AAZ7B,GALgC;AAoBrCS,EAAAA,MAAM,EAAE;AACJC,IAAAA,OAAO,EAAE,MADL;AAEJC,IAAAA,OAAO,EAAE,KAFL;AAGJC,IAAAA,WAAW,EAAE,MAHT;AAIJC,IAAAA,cAAc,EAAE,eAJZ;AAKJ,YAAQ;AACJC,MAAAA,MAAM,EAAE;AADJ,KALJ;AAQJ,WAAO;AACHC,MAAAA,cAAc,EAAE,MADb;AAEHd,MAAAA,KAAK,EAAE;AAFJ;AARH,GApB6B;AAiCrCe,EAAAA,SAAS,EAAE;AACPC,IAAAA,SAAS,EAAE;AADJ,GAjC0B;AAoCrCC,EAAAA,UAAU,EAAE;AACRC,IAAAA,UAAU,EAAEvB,KAAK,CAACG,OAAN,CAAcC,IAAd,CAAmB,GAAnB,CADJ;AAERC,IAAAA,KAAK,EAAE;AAFC,GApCyB;AAwCrCmB,EAAAA,MAAM,EAAE;AACJD,IAAAA,UAAU,EAAEvB,KAAK,CAACG,OAAN,CAAcC,IAAd,CAAmB,GAAnB,CADR;AAEJW,IAAAA,OAAO,EAAE,OAFL;AAGJ,mBAAe,OAHX;AAIJ,oBAAgB,OAJZ;AAKJV,IAAAA,KAAK,EAAEL,KAAK,CAACG,OAAN,CAAcC,IAAd,CAAmB,GAAnB;AALH,GAxC6B;AA+CrCqB,EAAAA,SAAS,EAAE;AACPd,IAAAA,KAAK,EAAE,MADA;AAEPe,IAAAA,MAAM,EAAE,MAFD;AAGPC,IAAAA,UAAU,EAAE;AAHL,GA/C0B;AAoDrCC,EAAAA,SAAS,EAAE;AACPb,IAAAA,OAAO,EAAE,aADF;AAEPD,IAAAA,OAAO,EAAE,MAFF;AAGPG,IAAAA,cAAc,EAAE;AAHT,GApD0B;AAyDrCY,EAAAA,SAAS,EAAE;AACPxB,IAAAA,KAAK,EAAE,OADA;AAEPsB,IAAAA,UAAU,EAAE,KAFL;AAGPG,IAAAA,WAAW,EAAE;AAHN;AAzD0B,CAAZ,CAAD,CAA5B;;AAgEA,MAAMC,cAAc,GAAG,CAAC;AAAEC,EAAAA,QAAF;AAAYC,EAAAA,kBAAZ;AAAgCC,EAAAA;AAAhC,CAAD,KAAgD;AAAA;;AACnE,QAAMC,OAAO,GAAG3B,SAAS,EAAzB;AACA,QAAM4B,QAAQ,GAAG5D,WAAW,EAA5B;AACA,QAAM,CAAC6D,SAAD,EAAYC,YAAZ,IAA4BrE,QAAQ,CAAC,EAAD,CAA1C;AACA,QAAM,CAACsE,YAAD,EAAeC,eAAf,IAAkCvE,QAAQ,CAC5CmE,QAAQ,CAACK,OAAT,KAAqBC,SAArB,GACIN,QAAQ,CAACK,OADb,GAEIP,QAAQ,CAAC,CAAD,CAAR,KAAgBQ,SAAhB,GAA4BR,QAA5B,GAAuC,EAHC,CAAhD;AAKA,QAAM,CAACS,WAAD,EAAcC,cAAd,IAAgC3E,QAAQ,CAAC,EAAD,CAA9C;AACA,QAAM,CAAC4E,SAAD,EAAYC,YAAZ,IAA4B7E,QAAQ,CAAC,EAAD,CAA1C;AACA,QAAM,CAAC8E,IAAD,EAAOC,OAAP,IAAkB/E,QAAQ,CAAC,CAAD,CAAhC;AACA,QAAM,CAACgF,WAAD,EAAcC,cAAd,IAAgCjF,QAAQ,CAAC,CAAD,CAA9C;AACA,QAAM,CAACkF,UAAD,EAAaC,aAAb,IAA8BnF,QAAQ,CAAC,CAAD,CAA5C;AACA,QAAMoF,WAAW,GAAG;AAAEC,IAAAA,EAAE,EAAE,CAAN;AAASC,IAAAA,IAAI,EAAE;AAAf,GAApB;AACA,QAAM,CAACC,YAAD,IAAiBvF,QAAQ,CAAC,CAC5B;AAAEqF,IAAAA,EAAE,EAAE,MAAN;AAAcC,IAAAA,IAAI,EAAE;AAApB,GAD4B,EAE5B;AAAED,IAAAA,EAAE,EAAE,SAAN;AAAiBC,IAAAA,IAAI,EAAE;AAAvB,GAF4B,EAG5B;AAAED,IAAAA,EAAE,EAAE,YAAN;AAAoBC,IAAAA,IAAI,EAAE;AAA1B,GAH4B,EAI5B;AAAED,IAAAA,EAAE,EAAE,UAAN;AAAkBC,IAAAA,IAAI,EAAE;AAAxB,GAJ4B,EAK5B;AAAED,IAAAA,EAAE,EAAE,UAAN;AAAkBC,IAAAA,IAAI,EAAE;AAAxB,GAL4B,EAM5B;AAAED,IAAAA,EAAE,EAAE,WAAN;AAAmBC,IAAAA,IAAI,EAAE;AAAzB,GAN4B,CAAD,CAA/B;AAQA,QAAM,CAACE,aAAD,IAAkBxF,QAAQ,CAAC,CAC7B;AAAEqF,IAAAA,EAAE,EAAE,EAAN;AAAUC,IAAAA,IAAI,EAAE;AAAhB,GAD6B,EAE7B;AAAED,IAAAA,EAAE,EAAE,IAAN;AAAYC,IAAAA,IAAI,EAAE;AAAlB,GAF6B,EAG7B;AAAED,IAAAA,EAAE,EAAE,KAAN;AAAaC,IAAAA,IAAI,EAAE;AAAnB,GAH6B,CAAD,CAAhC;AAKA,QAAM,CAACG,YAAD,IAAiBzF,QAAQ,CAAC,CAC5BoF,WAD4B,EAE5B;AAAEC,IAAAA,EAAE,EAAE,CAAN;AAASC,IAAAA,IAAI,EAAE;AAAf,GAF4B,EAG5B;AAAED,IAAAA,EAAE,EAAE,CAAN;AAASC,IAAAA,IAAI,EAAE;AAAf,GAH4B,EAI5B;AAAED,IAAAA,EAAE,EAAE,CAAN;AAASC,IAAAA,IAAI,EAAE;AAAf,GAJ4B,CAAD,CAA/B;AAMA,QAAM,CAACI,YAAD,EAAeC,eAAf,IAAkC3F,QAAQ,CAAC;AAC7C4F,IAAAA,YAAY,EAAE,EAD+B;AAE7CC,IAAAA,UAAU,EAAET,WAFiC;AAG7CU,IAAAA,QAAQ,EAAEV,WAHmC;AAI7CW,IAAAA,SAAS,EAAEX,WAJkC;AAK7CY,IAAAA,OAAO,EAAET,YAAY,CAAC,CAAD,CALwB;AAM7CU,IAAAA,QAAQ,EAAET,aAAa,CAAC,CAAD;AANsB,GAAD,CAAhD;AASA,QAAM,CAACU,WAAD,EAAcC,cAAd,IAAgCnG,QAAQ,CAAC;AAC3CoG,IAAAA,IAAI,EAAE,EADqC;AAE3CC,IAAAA,IAAI,EAAE,KAFqC;AAG3CC,IAAAA,IAAI,EAAE;AAHqC,GAAD,CAA9C;AAMAvG,EAAAA,SAAS,CAAC,MAAM;AACZwG,IAAAA,WAAW,CAACzB,IAAI,GAAG,CAAR,EAAWE,WAAX,CAAX;AACH,GAFQ,EAEN,CAACF,IAAD,EAAOE,WAAP,CAFM,CAAT;AAIAjF,EAAAA,SAAS,CAAC,MAAM;AACZyG,IAAAA,cAAc;AACjB,GAFQ,EAEN,EAFM,CAAT;;AAIA,QAAMD,WAAW,GAAG,OAAOzB,IAAP,EAAa2B,IAAb,KAAsB;AACtC,UAAMC,cAAc,GAAG;AACnBC,MAAAA,MAAM,EAAE,KADW;AAEnBC,MAAAA,OAAO,EAAE;AAAE,wBAAgB;AAAlB;AAFU,KAAvB;AAIA,QAAIC,QAAQ,GAAG,4BAAqB/B,IAArB,mBAAkC2B,IAAlC,oBAAgDf,YAAY,CAACM,OAAb,CAAqBX,EAArE,sBACAK,YAAY,CAACE,YADb,0BAEIF,YAAY,CAACG,UAAb,CAAwBR,EAF5B,wBAGEK,YAAY,CAACI,QAAb,CAAsBT,EAHxB,yBAIGK,YAAY,CAACK,SAAb,CAAuBV,EAAvB,KAA8B,CAA9B,GAAkC,EAAlC,GAAuCK,YAAY,CAACK,SAAb,CAAuBT,IAJjE,wBAKEI,YAAY,CAACO,QAAb,CAAsBZ,EALxB,CAAf;AAOAwB,IAAAA,QAAQ,IAAI9C,QAAQ,KAAK,IAAb,0BAA2C,EAAvD,CAZsC,CAatC;;AACA+C,IAAAA,OAAO,CAACC,KAAR,CAAc9C,QAAd;AACA6C,IAAAA,OAAO,CAACE,GAAR,CAAYH,QAAZ;AACA,UAAMI,KAAK,CAAC7G,MAAM,GAAGyG,QAAV,EAAoBH,cAApB,CAAL,CACDQ,IADC,CACIC,QAAQ,IAAIA,QAAQ,CAACC,IAAT,EADhB,EAEDF,IAFC,CAEIG,IAAI,KAAKhD,YAAY,CAACgD,IAAI,CAACC,KAAN,CAAZ,EAA0BnC,aAAa,CAACkC,IAAI,CAACnC,UAAN,CAA5C,CAFR,CAAN;AAGH,GAnBD;;AAqBA,QAAMsB,cAAc,GAAG,YAAY;AAC/B,UAAME,cAAc,GAAG;AACnBC,MAAAA,MAAM,EAAE;AADW,KAAvB;AAGA,UAAMM,KAAK,CAAC7G,MAAM,gBAAP,EACPsG,cADO,CAAL,CAGDQ,IAHC,CAGIC,QAAQ,IAAIA,QAAQ,CAACC,IAAT,EAHhB,EAIDF,IAJC,CAIIG,IAAI,IAAI;AAAEA,MAAAA,IAAI,CAACE,OAAL,CAAanC,WAAb;AAA2BT,MAAAA,cAAc,CAAC0C,IAAD,CAAd;AAAsB,KAJ/D,CAAN;AAMA,UAAMJ,KAAK,CAAC7G,MAAM,cAAP,EACPsG,cADO,CAAL,CAGDQ,IAHC,CAGIC,QAAQ,IAAIA,QAAQ,CAACC,IAAT,EAHhB,EAIDF,IAJC,CAIIG,IAAI,IAAI;AAAEA,MAAAA,IAAI,CAACE,OAAL,CAAanC,WAAb;AAA2BP,MAAAA,YAAY,CAACwC,IAAD,CAAZ;AAAoB,KAJ7D,CAAN;AAKH,GAfD;;AAiBA,QAAMG,gBAAgB,GAAG,CAACC,KAAD,EAAQC,OAAR,KAAoB;AACzC3C,IAAAA,OAAO,CAAC2C,OAAD,CAAP;AACH,GAFD;;AAIA,QAAMC,uBAAuB,GAAIF,KAAD,IAAW;AACvCxC,IAAAA,cAAc,CAAC,CAACwC,KAAK,CAACG,MAAN,CAAaC,KAAf,CAAd;AACA9C,IAAAA,OAAO,CAAC,CAAD,CAAP;AACH,GAHD;;AAKA,QAAM+C,wBAAwB,GAAGL,KAAK,IAAI;AACtC9B,IAAAA,eAAe,CAAC;AACZD,MAAAA,YADY;AAEZE,MAAAA,YAAY,EAAE6B,KAAK,CAACG,MAAN,CAAatC,IAAb,KAAsB,aAAtB,GAAsCmC,KAAK,CAACG,MAAN,CAAaC,KAAnD,GAA2DnC,YAAY,CAACE,YAF1E;AAGZC,MAAAA,UAAU,EAAE4B,KAAK,CAACG,MAAN,CAAatC,IAAb,KAAsB,kBAAtB,GAA2CmC,KAAK,CAACG,MAAN,CAAaC,KAAxD,GAAgEnC,YAAY,CAACG,UAH7E;AAIZC,MAAAA,QAAQ,EAAE2B,KAAK,CAACG,MAAN,CAAatC,IAAb,KAAsB,gBAAtB,GAAyCmC,KAAK,CAACG,MAAN,CAAaC,KAAtD,GAA8DnC,YAAY,CAACI,QAJzE;AAKZC,MAAAA,SAAS,EAAE0B,KAAK,CAACG,MAAN,CAAatC,IAAb,KAAsB,iBAAtB,GAA0CmC,KAAK,CAACG,MAAN,CAAaC,KAAvD,GAA+DnC,YAAY,CAACK,SAL3E;AAMZC,MAAAA,OAAO,EAAEyB,KAAK,CAACG,MAAN,CAAatC,IAAb,KAAsB,SAAtB,GAAkCmC,KAAK,CAACG,MAAN,CAAaC,KAA/C,GAAuDnC,YAAY,CAACM,OANjE;AAOZC,MAAAA,QAAQ,EAAEwB,KAAK,CAACG,MAAN,CAAatC,IAAb,KAAsB,UAAtB,GAAmCmC,KAAK,CAACG,MAAN,CAAaC,KAAhD,GAAwDnC,YAAY,CAACO;AAPnE,KAAD,CAAf;AASH,GAVD;;AAYA,QAAM8B,YAAY,GAAG,MAAM;AACvBxB,IAAAA,WAAW,CAAC,CAAD,EAAIvB,WAAJ,CAAX;AACH,GAFD;;AAIA,QAAMgD,gBAAgB,GAAG,YAAY;AACjC,QAAI7D,QAAQ,CAAC8D,MAAT,KAAoBxD,SAAxB,EAAmC;AAE/B,UAAIyD,SAAS,GAAG,EAAhB;AACA5D,MAAAA,YAAY,CAAC6D,OAAb,CAAqBC,QAAQ,IAAI;AAC7BF,QAAAA,SAAS,CAACG,IAAV,CAAeD,QAAQ,CAAC/C,EAAxB;AACH,OAFD;AAGA,YAAMqB,cAAc,GAAG;AACnBC,QAAAA,MAAM,EAAE,KADW;AAEnBC,QAAAA,OAAO,EAAE;AAAE,0BAAgB;AAAlB,SAFU;AAGnB0B,QAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAeN,SAAf;AAHa,OAAvB;AAKA,YAAMjB,KAAK,CAAC7G,MAAM,2BAAoB+D,QAAQ,CAAC8D,MAA7B,CAAP,EACPvB,cADO,CAAL,CAEJQ,IAFI,CAECG,IAAI,IAAI;AACXP,QAAAA,OAAO,CAACE,GAAR,CAAYK,IAAZ;AACAlB,QAAAA,cAAc,CAAC;AACXC,UAAAA,IAAI,EAAE,kBADK;AAEXC,UAAAA,IAAI,EAAE,IAFK;AAGXC,UAAAA,IAAI,EAAE;AAHK,SAAD,CAAd;AAKH,OATK,EASFmC,GAAD,IAAS;AACR3B,QAAAA,OAAO,CAACE,GAAR,CAAYyB,GAAZ;AACAtC,QAAAA,cAAc,CAAC;AACXC,UAAAA,IAAI,EAAE,yBADK;AAEXC,UAAAA,IAAI,EAAE,IAFK;AAGXC,UAAAA,IAAI,EAAE;AAHK,SAAD,CAAd;AAKH,OAhBK,CAAN;AAiBH,KA5BD,MA4BO;AACHtC,MAAAA,kBAAkB,CAACM,YAAD,CAAlB;AACA6B,MAAAA,cAAc,CAAC;AACXC,QAAAA,IAAI,EAAErC,QAAQ,GAAG,iBAAH,GAAuB,kBAD1B;AAEXsC,QAAAA,IAAI,EAAE,IAFK;AAGXC,QAAAA,IAAI,EAAE;AAHK,OAAD,CAAd;AAKH;AAEJ,GAtCD;;AAwCA,QAAMoC,cAAc,GAAG,CAACjB,KAAD,EAAQW,QAAR,KAAqB;AACxC,UAAMO,aAAa,GAAGrE,YAAY,CAACsE,SAAb,CAAuBC,CAAC,IAAIA,CAAC,CAACxD,EAAF,IAAQ+C,QAAQ,CAAC/C,EAA7C,CAAtB;AAEA,QAAIyD,WAAW,GAAG,EAAlB;;AAEA,QAAIH,aAAa,KAAK,CAAC,CAAvB,EAA0B;AACtB,UAAI5E,QAAJ,EAAc;AACV+E,QAAAA,WAAW,GAAG,CAACV,QAAD,CAAd;AACH,OAFD,MAGIU,WAAW,GAAGA,WAAW,CAACC,MAAZ,CAAmBzE,YAAnB,EAAiC8D,QAAjC,CAAd;AACP;;AAED,QAAIO,aAAa,IAAI,CAArB,EAAwB;AACpBG,MAAAA,WAAW,GAAGxE,YAAY,CAAC0E,MAAb,CAAqBH,CAAD,IAAOA,CAAC,CAACxD,EAAF,KAAS+C,QAAQ,CAAC/C,EAA7C,CAAd;AACH;;AAEDd,IAAAA,eAAe,CAACuE,WAAD,CAAf;AACH,GAjBD;;AAmBA,QAAMG,iBAAiB,GAAG,MAAM;AAC5B,QAAI3E,YAAY,CAAC4E,MAAb,KAAwB9E,SAAS,CAAC8E,MAAtC,EAA8C;AAC1C3C,MAAAA,WAAW,CAAC,CAAD,EAAIvB,WAAJ,CAAX;AACH;;AACDT,IAAAA,eAAe,CAAC,EAAD,CAAf;AACH,GALD;;AAOA,QAAM4E,UAAU,GAAI9D,EAAD,IAAQf,YAAY,CAACsE,SAAb,CAAuBC,CAAC,IAAIA,CAAC,CAACxD,EAAF,IAAQA,EAApC,MAA4C,CAAC,CAAxE;;AAEA,QAAM+D,iBAAiB,GAAG,CAAC3B,KAAD,EAAQ4B,MAAR,KAAmB;AACzC,QAAIA,MAAM,KAAK,WAAf,EAA4B;AACxB;AACH;;AACDlD,IAAAA,cAAc,CAAC,EAAE,GAAGD,WAAL;AAAkBG,MAAAA,IAAI,EAAE;AAAxB,KAAD,CAAd;AACH,GALD;;AAOA,QAAMiD,WAAW,GAAG,MAAM;AACtB,wBACI,QAAC,KAAD;AAAO,MAAA,SAAS,EAAEpF,OAAO,CAAC1B,IAA1B;AAAA,8BACI,QAAC,QAAD;AAAU,QAAA,KAAK,EAAE;AAAEkB,UAAAA,UAAU,EAAE,KAAd;AAAqBjB,UAAAA,SAAS,EAAE;AAAhC,SAAjB;AAA2D,QAAA,SAAS,EAAC,MAArE;AAA4E,QAAA,KAAK,EAAC,KAAlF;AAAwF,QAAA,MAAM,EAAC;AAA/F;AAAA;AAAA;AAAA;AAAA,cADJ,eAEI,QAAC,QAAD;AAAU,QAAA,KAAK,EAAE;AAAEQ,UAAAA,MAAM,EAAE;AAAV,SAAjB;AAA6C,QAAA,SAAS,EAAC,MAAvD;AAA8D,QAAA,KAAK,EAAC,KAApE;AAA0E,QAAA,MAAM,EAAC;AAAjF;AAAA;AAAA;AAAA;AAAA,cAFJ,eAGI;AAAK,QAAA,KAAK,EAAE;AAAEH,UAAAA,OAAO,EAAE,KAAX;AAAkBb,UAAAA,eAAe,EAAE;AAAnC,SAAZ;AAAA,gCACI,QAAC,QAAD;AAAU,UAAA,KAAK,EAAE;AAAEyB,YAAAA,UAAU,EAAE;AAAd,WAAjB;AAAwC,UAAA,KAAK,EAAC,KAA9C;AAAoD,UAAA,MAAM,EAAC;AAA3D;AAAA;AAAA;AAAA;AAAA,gBADJ,eAEI,QAAC,QAAD;AAAU,UAAA,KAAK,EAAE;AAAEA,YAAAA,UAAU,EAAE;AAAd,WAAjB;AAAwC,UAAA,KAAK,EAAC,KAA9C;AAAoD,UAAA,MAAM,EAAC;AAA3D;AAAA;AAAA;AAAA;AAAA,gBAFJ,eAGI,QAAC,QAAD;AAAU,UAAA,KAAK,EAAE;AAAEA,YAAAA,UAAU,EAAE;AAAd,WAAjB;AAAwC,UAAA,KAAK,EAAC,KAA9C;AAAoD,UAAA,MAAM,EAAC;AAA3D;AAAA;AAAA;AAAA;AAAA,gBAHJ,eAII,QAAC,QAAD;AAAU,UAAA,KAAK,EAAE;AAAEA,YAAAA,UAAU,EAAE;AAAd,WAAjB;AAAwC,UAAA,KAAK,EAAC,KAA9C;AAAoD,UAAA,MAAM,EAAC;AAA3D;AAAA;AAAA;AAAA;AAAA,gBAJJ,eAKI,QAAC,QAAD;AAAU,UAAA,KAAK,EAAE;AAAEA,YAAAA,UAAU,EAAE;AAAd,WAAjB;AAAwC,UAAA,KAAK,EAAC,KAA9C;AAAoD,UAAA,MAAM,EAAC;AAA3D;AAAA;AAAA;AAAA;AAAA,gBALJ,eAMI,QAAC,QAAD;AAAU,UAAA,KAAK,EAAE;AAAEA,YAAAA,UAAU,EAAE;AAAd,WAAjB;AAAwC,UAAA,KAAK,EAAC,KAA9C;AAAoD,UAAA,MAAM,EAAC;AAA3D;AAAA;AAAA;AAAA;AAAA,gBANJ,eAOI,QAAC,QAAD;AAAU,UAAA,KAAK,EAAE;AAAEA,YAAAA,UAAU,EAAE;AAAd,WAAjB;AAAwC,UAAA,KAAK,EAAC,KAA9C;AAAoD,UAAA,MAAM,EAAC;AAA3D;AAAA;AAAA;AAAA;AAAA,gBAPJ;AAAA;AAAA;AAAA;AAAA;AAAA,cAHJ;AAAA;AAAA;AAAA;AAAA;AAAA,YADJ;AAeH,GAhBD;;AAkBA,sBACI;AAAA,4BACI,QAAC,QAAD;AAAU,MAAA,IAAI,EAAEwC,WAAW,CAACG,IAA5B;AAAkC,MAAA,gBAAgB,EAAE,IAApD;AAA0D,MAAA,OAAO,EAAE+C,iBAAnE;AAAA,6BACI,QAAC,KAAD;AAAO,QAAA,OAAO,EAAEA,iBAAhB;AAAmC,QAAA,QAAQ,EAAElD,WAAW,CAACI,IAAzD;AAAA,kBACKJ,WAAW,CAACE;AADjB;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,YADJ,EAOKhC,SAAS,CAAC8E,MAAV,KAAqB,CAArB,GAAyBI,WAAW,EAApC,gBACG,QAAC,KAAD;AAAO,MAAA,SAAS,EAAEpF,OAAO,CAAC1B,IAA1B;AAAA,8BACI;AAAK,QAAA,SAAS,EAAE0B,OAAO,CAACtB,MAAxB;AAAA,mBACKmB,QAAQ,KAAKU,SAAb,gBACG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADH,gBAEG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAHR,eAKI,QAAC,MAAD;AACI,UAAA,QAAQ,EAAEH,YAAY,CAAC4E,MAAb,IAAuB,CADrC;AAEI,UAAA,OAAO,EAAC,WAFZ;AAEwB,UAAA,KAAK,EAAC,SAF9B;AAGI,UAAA,OAAO,EAAElB,gBAHb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBALJ;AAAA;AAAA;AAAA;AAAA;AAAA,cADJ,eAcI,QAAC,OAAD;AAAS,QAAA,OAAO,EAAC,OAAjB;AAAyB,QAAA,KAAK,EAAE;AAAEtF,UAAAA,KAAK,EAAE,MAAT;AAAiBO,UAAAA,MAAM,EAAE;AAAzB;AAAhC;AAAA;AAAA;AAAA;AAAA,cAdJ,eAeI,QAAC,OAAD;AAAS,QAAA,SAAS,EAAEiB,OAAO,CAACP,SAA5B;AAAA,gCACI,QAAC,aAAD;AACI,UAAA,QAAQ,EAAEmE,wBADd;AAEI,UAAA,KAAK,EAAC,WAFV;AAGI,UAAA,IAAI,EAAC;AAHT;AAAA;AAAA;AAAA;AAAA,gBADJ,eAMI,QAAC,UAAD;AACI,UAAA,KAAK,EAAC,UADV;AAEI,UAAA,IAAI,EAAC,SAFT;AAGI,UAAA,UAAU,EAAEvC,YAHhB;AAII,UAAA,KAAK,EAAEG,YAAY,CAACM,OAJxB;AAKI,UAAA,QAAQ,EAAE8B;AALd;AAAA;AAAA;AAAA;AAAA,gBANJ,eAaI,QAAC,UAAD;AACI,UAAA,KAAK,EAAC,UADV;AAEI,UAAA,IAAI,EAAC,gBAFT;AAGI,UAAA,UAAU,EAAElD,SAHhB;AAII,UAAA,KAAK,EAAEc,YAAY,CAACI,QAJxB;AAKI,UAAA,QAAQ,EAAEgC;AALd;AAAA;AAAA;AAAA;AAAA,gBAbJ,eAoBI,QAAC,UAAD;AACI,UAAA,KAAK,EAAC,WADV;AAEI,UAAA,IAAI,EAAC,iBAFT;AAGI,UAAA,UAAU,EAAErC,YAHhB;AAII,UAAA,KAAK,EAAEC,YAAY,CAACK,SAJxB;AAKI,UAAA,QAAQ,EAAE+B;AALd;AAAA;AAAA;AAAA;AAAA,gBApBJ,eA2BI,QAAC,UAAD;AACI,UAAA,KAAK,EAAC,YADV;AAEI,UAAA,IAAI,EAAC,kBAFT;AAGI,UAAA,UAAU,EAAEpD,WAHhB;AAII,UAAA,KAAK,EAAEgB,YAAY,CAACG,UAJxB;AAKI,UAAA,QAAQ,EAAEiC;AALd;AAAA;AAAA;AAAA;AAAA,gBA3BJ,eAkCI,QAAC,UAAD;AACI,UAAA,KAAK,EAAC,WADV;AAEI,UAAA,IAAI,EAAC,UAFT;AAGI,UAAA,UAAU,EAAEtC,aAHhB;AAII,UAAA,KAAK,EAAEE,YAAY,CAACO,QAJxB;AAKI,UAAA,QAAQ,EAAE6B;AALd;AAAA;AAAA;AAAA;AAAA,gBAlCJ,eAyCI,QAAC,MAAD;AAAQ,UAAA,OAAO,EAAC,WAAhB;AAA4B,UAAA,KAAK,EAAC,SAAlC;AAA4C,UAAA,OAAO,EAAEC,YAArD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAzCJ;AAAA;AAAA;AAAA;AAAA;AAAA,cAfJ,eA0DI,QAAC,OAAD;AAAS,QAAA,OAAO,EAAC,OAAjB;AAAyB,QAAA,KAAK,EAAE;AAAErF,UAAAA,KAAK,EAAE,MAAT;AAAiBO,UAAAA,MAAM,EAAE;AAAzB;AAAhC;AAAA;AAAA;AAAA;AAAA,cA1DJ,eA2DI,QAAC,cAAD;AAAgB,QAAA,SAAS,EAAEiB,OAAO,CAACf,SAAnC;AAAA,+BACI,QAAC,KAAD;AAAO,UAAA,YAAY,MAAnB;AAAoB,UAAA,IAAI,EAAC,OAAzB;AAAA,kCACI,QAAC,SAAD;AAAW,YAAA,SAAS,EAAEe,OAAO,CAACqF,OAA9B;AAAA,mCACI,QAAC,QAAD;AAAA,sCACI,QAAC,eAAD;AAAiB,gBAAA,KAAK,EAAC;AAAvB;AAAA;AAAA;AAAA;AAAA,sBADJ,eAII,QAAC,eAAD;AAAiB,gBAAA,KAAK,EAAC,QAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAJJ,eAOI,QAAC,eAAD;AAAiB,gBAAA,KAAK,EAAC,QAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAPJ,eAUI,QAAC,eAAD;AAAiB,gBAAA,KAAK,EAAC,QAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAVJ,eAaI,QAAC,eAAD;AAAiB,gBAAA,KAAK,EAAC,QAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAbJ,eAgBI,QAAC,eAAD;AAAiB,gBAAA,KAAK,EAAC,QAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAhBJ,eAmBI,QAAC,eAAD;AAAiB,gBAAA,KAAK,EAAC,QAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAnBJ,eAsBI,QAAC,eAAD;AAAiB,gBAAA,KAAK,EAAC,QAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAtBJ,eAyBI,QAAC,eAAD;AAAiB,gBAAA,KAAK,EAAC,QAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAzBJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,kBADJ,eAgCI,QAAC,SAAD;AAAW,YAAA,SAAS,EAAErF,OAAO,CAACvB,GAA9B;AAAA,sBACKyB,SAAS,CAACoF,GAAV,CAAc,CAACpB,QAAD,EAAWqB,KAAX,KAAqB;AAChC,oBAAMC,cAAc,GAAGP,UAAU,CAACf,QAAQ,CAAC/C,EAAV,CAAjC;AACA,kCACI,QAAC,QAAD;AACI,gBAAA,KAAK,MADT;AAGI,gBAAA,IAAI,EAAC,UAHT;AAII,gBAAA,QAAQ,EAAEqE,cAJd;AAKI,gBAAA,OAAO,EAAGb,CAAD,IAAOH,cAAc,CAACG,CAAD,EAAIT,QAAJ,CALlC;AAAA,wCAOI,QAAC,eAAD;AAAiB,kBAAA,KAAK,EAAC,QAAvB;AAAA,yCACI,QAAC,QAAD;AACI,oBAAA,OAAO,EAAEsB;AADb;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,wBAPJ,eAYI,QAAC,eAAD;AAAiB,kBAAA,KAAK,EAAC,QAAvB;AAAA,4BACKtB,QAAQ,CAAC/C;AADd;AAAA;AAAA;AAAA;AAAA,wBAZJ,eAeI,QAAC,eAAD;AAAiB,kBAAA,KAAK,EAAC,QAAvB;AAAA,4BACK+C,QAAQ,CAACuB,MAAT,CAAgBrE;AADrB;AAAA;AAAA;AAAA;AAAA,wBAfJ,eAkBI,QAAC,eAAD;AAAiB,kBAAA,KAAK,EAAC,QAAvB;AAAA,4BACK8C,QAAQ,CAACuB,MAAT,CAAgBC;AADrB;AAAA;AAAA;AAAA;AAAA,wBAlBJ,eAqBI,QAAC,eAAD;AAAiB,kBAAA,KAAK,EAAC,QAAvB;AAAA,4BACKxB,QAAQ,CAACuB,MAAT,CAAgBE;AADrB;AAAA;AAAA;AAAA;AAAA,wBArBJ,eAwBI,QAAC,eAAD;AAAiB,kBAAA,KAAK,EAAC,QAAvB;AAAA,4BACKzB,QAAQ,CAACtC,QAAT,CAAkBR;AADvB;AAAA;AAAA;AAAA;AAAA,wBAxBJ,eA2BI,QAAC,eAAD;AAAiB,kBAAA,KAAK,EAAC,QAAvB;AAAA,4BACK8C,QAAQ,CAACrC;AADd;AAAA;AAAA;AAAA;AAAA,wBA3BJ,eA8BI,QAAC,eAAD;AAAiB,kBAAA,KAAK,EAAC,QAAvB;AAAA,4BACKqC,QAAQ,CAACvC,UAAT,CAAoBP;AADzB;AAAA;AAAA;AAAA;AAAA,wBA9BJ,eAiCI,QAAC,eAAD;AAAiB,kBAAA,KAAK,EAAC,QAAvB;AAAA,4BACK8C,QAAQ,CAAC0B,UAAT,KAAwB,IAAxB,gBACG,QAAC,eAAD;AAAA;AAAA;AAAA;AAAA,0BADH,gBACyB,QAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAF9B;AAAA;AAAA;AAAA;AAAA,wBAjCJ;AAAA,iBAESL,KAFT;AAAA;AAAA;AAAA;AAAA,sBADJ;AAwCH,aA1CA;AADL;AAAA;AAAA;AAAA;AAAA,kBAhCJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,cA3DJ,eA2II;AAAK,QAAA,KAAK,EAAE;AAAE5G,UAAAA,OAAO,EAAE,MAAX;AAAmBG,UAAAA,cAAc,EAAE;AAAnC,SAAZ;AAAA,mBACKsB,YAAY,CAAC4E,MAAb,IAAuB,CAAvB,gBAA2B;AAAA;AAAA;AAAA;AAAA,gBAA3B,gBACG;AAAK,UAAA,KAAK,EAAE;AAAErG,YAAAA,OAAO,EAAE,MAAX;AAAmBJ,YAAAA,SAAS,EAAE;AAA9B,WAAZ;AAAA,kCACI;AAAI,YAAA,KAAK,EAAE;AAAEQ,cAAAA,MAAM,EAAE;AAAV,aAAX;AAAA,sBAA0C,eAAeqB,YAAY,CAAC4E;AAAtE;AAAA;AAAA;AAAA;AAAA,kBADJ,eAEI,QAAC,GAAD;AAAK,YAAA,SAAS,EAAEhF,OAAO,CAACV,SAAxB;AAAmC,YAAA,KAAK,EAAC,SAAzC;AAAmD,YAAA,OAAO,EAAE,MAAMa,YAAY,CAACC,YAAD,CAA9E;AAAA,mCAA8F,QAAC,cAAD;AAAA;AAAA;AAAA;AAAA;AAA9F;AAAA;AAAA;AAAA;AAAA,kBAFJ,eAGI,QAAC,GAAD;AAAK,YAAA,SAAS,EAAEJ,OAAO,CAACV,SAAxB;AAAmC,YAAA,KAAK,EAAC,SAAzC;AAAmD,YAAA,OAAO,EAAEyF,iBAA5D;AAAA,mCAA+E,QAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAA/E;AAAA;AAAA;AAAA;AAAA,kBAHJ;AAAA;AAAA;AAAA;AAAA;AAAA,gBAFR,eASI,QAAC,eAAD;AACI,UAAA,SAAS,EAAE/E,OAAO,CAACb,UADvB;AAEI,UAAA,kBAAkB,EAAE,CAAC,CAAD,EAAI,EAAJ,EAAQ,EAAR,EAAY,EAAZ,CAFxB;AAGI,UAAA,SAAS,EAAC,KAHd;AAII,UAAA,KAAK,EAAE6B,UAJX;AAKI,UAAA,WAAW,EAAEF,WALjB;AAMI,UAAA,IAAI,EAAEF,IANV;AAOI,UAAA,YAAY,EAAE0C,gBAPlB;AAQI,UAAA,mBAAmB,EAAEG;AARzB;AAAA;AAAA;AAAA;AAAA,gBATJ;AAAA;AAAA;AAAA;AAAA;AAAA,cA3IJ;AAAA;AAAA;AAAA;AAAA;AAAA,YARR;AAAA;AAAA;AAAA;AAAA;AAAA,UADJ;AA8KH,CAnYD;;GAAM7D,c;UACcvB,S,EACChC,W;;;MAFfuD,c;AAoYN,eAAeA,cAAf","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { DarkTextField, DarkSelect, ConfirmDialog } from '../GlobalComponents';\r\nimport APIURL from '../../Services/Globals'\r\nimport { makeStyles, withStyles } from '@material-ui/core/styles';\r\nimport { useLocation } from \"react-router-dom\";\r\n\r\nimport Skeleton from '@material-ui/lab/Skeleton';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Table from '@material-ui/core/Table';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableContainer from '@material-ui/core/TableContainer';\r\nimport TableHead from '@material-ui/core/TableHead';\r\nimport TablePagination from '@material-ui/core/TablePagination';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport Divider from '@material-ui/core/Divider';\r\nimport Button from '@material-ui/core/Button';\r\nimport Fab from '@material-ui/core/Fab';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport ClearIcon from '@material-ui/icons/Clear';\r\nimport VisibilityIcon from '@material-ui/icons/Visibility';\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport CheckCircleIcon from '@material-ui/icons/CheckCircle';\r\nimport Snackbar from '@material-ui/core/Snackbar';\r\nimport MuiAlert from '@material-ui/lab/Alert';\r\n\r\nfunction Alert(props) {\r\n    return <MuiAlert elevation={6} variant=\"filled\" {...props} />;\r\n}\r\n\r\nconst StyledTableCell = withStyles((theme) => ({\r\n    head: {\r\n        backgroundColor: theme.palette.grey[800],\r\n        color: theme.palette.common.white,\r\n    },\r\n}))(TableCell)\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n        marginTop: '1rem',\r\n        width: '100%',\r\n    },\r\n    tab: {\r\n        \"& .MuiCheckbox-colorSecondary.Mui-checked\": {\r\n            color: '#3f51b5'\r\n        },\r\n        \"& .Mui-selected\": {\r\n            backgroundColor: theme.palette.grey[500],\r\n        },\r\n        backgroundColor: theme.palette.grey[400],\r\n        \"& .MuiTableCell-body\": {\r\n            color: 'black',\r\n        },\r\n\r\n        \"& .MuiTableRow-hover:hover\": { backgroundColor: theme.palette.grey[500], },\r\n    },\r\n\r\n    tabTop: {\r\n        display: 'flex',\r\n        padding: '8px',\r\n        paddingLeft: '17px',\r\n        justifyContent: 'space-between',\r\n        \"& h2\": {\r\n            margin: '2px',\r\n        },\r\n        \"& a\": {\r\n            textDecoration: \"none\",\r\n            color: \"white\",\r\n        }\r\n    },\r\n    container: {\r\n        maxHeight: '52vh',\r\n    },\r\n    pagination: {\r\n        background: theme.palette.grey[800],\r\n        color: \"white\",\r\n    },\r\n    button: {\r\n        background: theme.palette.grey[300],\r\n        padding: \".4rem\",\r\n        \"margin-left\": \".2rem\",\r\n        \"margin-right\": \".2rem\",\r\n        color: theme.palette.grey[800],\r\n    },\r\n    selButton: {\r\n        width: '32px',\r\n        height: '32px',\r\n        marginLeft: '8px',\r\n    },\r\n    searchBox: {\r\n        padding: \"1px 8px 0 0\",\r\n        display: \"flex\",\r\n        justifyContent: \"space-between\",\r\n    },\r\n    whiteText: {\r\n        color: \"white\",\r\n        marginLeft: \"0px\",\r\n        marginRight: \"8px\",\r\n    },\r\n}));\r\n\r\nconst AddTeamMembers = ({ isSingle, onSelectionConfirm, selected }) => {\r\n    const classes = useStyles();\r\n    const location = useLocation();\r\n    const [employees, setEmployees] = useState([]);\r\n    const [selEmployees, setSelEmployees] = useState(\r\n        location.members !== undefined ?\r\n            location.members :\r\n            selected[0] !== undefined ? selected : []\r\n    );\r\n    const [departments, setDepartments] = useState([]);\r\n    const [positions, setPositions] = useState([]);\r\n    const [page, setPage] = useState(0);\r\n    const [rowsPerPage, setRowsPerPage] = useState(9);\r\n    const [totalItems, setTotalItems] = useState(1);\r\n    const firstRecord = { id: 0, name: \"All\" };\r\n    const [orderOptions] = useState([\r\n        { id: \"name\", name: \"Name\" },\r\n        { id: \"surname\", name: \"Surame\" },\r\n        { id: \"department\", name: \"Department\" },\r\n        { id: \"position\", name: \"Position\" },\r\n        { id: \"date-asc\", name: \"Date-asc\" },\r\n        { id: \"date-desc\", name: \"Date-desc\" }\r\n    ]);\r\n    const [remoteOptions] = useState([\r\n        { id: '', name: \"All\" },\r\n        { id: true, name: \"Remote\" },\r\n        { id: false, name: \"Office\" },\r\n    ]);\r\n    const [seniorityLvs] = useState([\r\n        firstRecord,\r\n        { id: 1, name: \"Junior\" },\r\n        { id: 2, name: \"Regular\" },\r\n        { id: 3, name: \"Senior\" },\r\n    ]);\r\n    const [searchParams, setSearchParams] = useState({\r\n        searchString: '',\r\n        department: firstRecord,\r\n        position: firstRecord,\r\n        seniority: firstRecord,\r\n        orderBy: orderOptions[4],\r\n        isRemote: remoteOptions[0]\r\n    });\r\n\r\n    const [allertProps, setAllertProps] = useState({\r\n        text: '',\r\n        open: false,\r\n        type: 'success'\r\n    });\r\n\r\n    useEffect(() => {\r\n        getEmploees(page + 1, rowsPerPage);\r\n    }, [page, rowsPerPage]);\r\n\r\n    useEffect(() => {\r\n        getSearchProps()\r\n    }, []);\r\n\r\n    const getEmploees = async (page, size) => {\r\n        const requestOptions = {\r\n            method: 'Get',\r\n            headers: { 'Content-Type': 'application/json' }\r\n        };\r\n        let urlQuery = `employee/all?page=${page}&size=${size}&order=${searchParams.orderBy.id}` +\r\n            `&search=${searchParams.searchString}` +\r\n            `&department=${searchParams.department.id}` +\r\n            `&position=${searchParams.position.id}` +\r\n            `&seniority=${searchParams.seniority.id === 0 ? '' : searchParams.seniority.name}` +\r\n            `&isremote=${searchParams.isRemote.id}`\r\n\r\n        urlQuery += isSingle === true ? `&leaderfilter=true` : '';\r\n        // urlQuery += selected[0] === undefined ? `&teamMembersFilter=true` : '';\r\n        console.table(selected)\r\n        console.log(urlQuery);\r\n        await fetch(APIURL + urlQuery, requestOptions)\r\n            .then(response => response.json())\r\n            .then(data => (setEmployees(data.items), setTotalItems(data.totalItems)));\r\n    }\r\n\r\n    const getSearchProps = async () => {\r\n        const requestOptions = {\r\n            method: 'Get',\r\n        };\r\n        await fetch(APIURL + `departments`,\r\n            requestOptions\r\n        )\r\n            .then(response => response.json())\r\n            .then(data => { data.unshift(firstRecord); setDepartments(data) });\r\n\r\n        await fetch(APIURL + `positions`,\r\n            requestOptions\r\n        )\r\n            .then(response => response.json())\r\n            .then(data => { data.unshift(firstRecord); setPositions(data) });\r\n    }\r\n\r\n    const handleChangePage = (event, newPage) => {\r\n        setPage(newPage);\r\n    };\r\n\r\n    const handleChangeRowsPerPage = (event) => {\r\n        setRowsPerPage(+event.target.value);\r\n        setPage(0);\r\n    };\r\n\r\n    const handleChangeSearchParams = event => {\r\n        setSearchParams({\r\n            searchParams,\r\n            searchString: event.target.name === \"searchInput\" ? event.target.value : searchParams.searchString,\r\n            department: event.target.name === \"departmentSelect\" ? event.target.value : searchParams.department,\r\n            position: event.target.name === \"positionSelect\" ? event.target.value : searchParams.position,\r\n            seniority: event.target.name === \"senioritySelect\" ? event.target.value : searchParams.seniority,\r\n            orderBy: event.target.name === \"orderBy\" ? event.target.value : searchParams.orderBy,\r\n            isRemote: event.target.name === \"isRemote\" ? event.target.value : searchParams.isRemote,\r\n        });\r\n    };\r\n\r\n    const handleSearch = () => {\r\n        getEmploees(1, rowsPerPage);\r\n    };\r\n\r\n    const hendleAddMembers = async () => {\r\n        if (location.teamid !== undefined) {\r\n\r\n            let membersID = [];\r\n            selEmployees.forEach(employee => {\r\n                membersID.push(employee.id);\r\n            });\r\n            const requestOptions = {\r\n                method: 'Put',\r\n                headers: { 'Content-Type': 'application/json' },\r\n                body: JSON.stringify(membersID)\r\n            };\r\n            await fetch(APIURL + `teams/members/${location.teamid}`,\r\n                requestOptions\r\n            ).then(data => {\r\n                console.log(data);\r\n                setAllertProps({\r\n                    text: \"Team Members Set\",\r\n                    open: true,\r\n                    type: \"success\"\r\n                });\r\n            }, (err) => {\r\n                console.log(err)\r\n                setAllertProps({\r\n                    text: \"Set Team Members Error!\",\r\n                    open: true,\r\n                    type: \"error\"\r\n                })\r\n            });\r\n        } else {\r\n            onSelectionConfirm(selEmployees)\r\n            setAllertProps({\r\n                text: isSingle ? \"Team Leader Set\" : \"Team Members Set\",\r\n                open: true,\r\n                type: \"success\"\r\n            })\r\n        }\r\n\r\n    }\r\n\r\n    const handleRowClick = (event, employee) => {\r\n        const selectedIndex = selEmployees.findIndex(e => e.id == employee.id);\r\n\r\n        let newSelected = [];\r\n\r\n        if (selectedIndex === -1) {\r\n            if (isSingle) {\r\n                newSelected = [employee];\r\n            } else\r\n                newSelected = newSelected.concat(selEmployees, employee);\r\n        }\r\n\r\n        if (selectedIndex >= 0) {\r\n            newSelected = selEmployees.filter((e) => e.id !== employee.id);\r\n        }\r\n\r\n        setSelEmployees(newSelected);\r\n    }\r\n\r\n    const handleUnselectAll = () => {\r\n        if (selEmployees.length === employees.length) {\r\n            getEmploees(1, rowsPerPage);\r\n        }\r\n        setSelEmployees([]);\r\n    }\r\n\r\n    const isSelected = (id) => selEmployees.findIndex(e => e.id == id) !== -1;\r\n\r\n    const handleAllertClose = (event, reason) => {\r\n        if (reason === 'clickaway') {\r\n            return;\r\n        }\r\n        setAllertProps({ ...allertProps, open: false });\r\n    };\r\n\r\n    const tabSkeleton = () => {\r\n        return (\r\n            <Paper className={classes.root}>\r\n                <Skeleton style={{ marginLeft: '8px', marginTop: '16px' }} animation=\"wave\" width=\"21%\" height=\"50px\" />\r\n                <Skeleton style={{ margin: '8px 8px 20px' }} animation=\"wave\" width=\"98%\" height=\"36px\" />\r\n                <div style={{ padding: '4px', backgroundColor: '#bdbdbd' }}>\r\n                    <Skeleton style={{ marginLeft: '8px' }} width=\"98%\" height=\"75px\" />\r\n                    <Skeleton style={{ marginLeft: '8px' }} width=\"98%\" height=\"75px\" />\r\n                    <Skeleton style={{ marginLeft: '8px' }} width=\"98%\" height=\"75px\" />\r\n                    <Skeleton style={{ marginLeft: '8px' }} width=\"98%\" height=\"75px\" />\r\n                    <Skeleton style={{ marginLeft: '8px' }} width=\"98%\" height=\"75px\" />\r\n                    <Skeleton style={{ marginLeft: '8px' }} width=\"98%\" height=\"75px\" />\r\n                    <Skeleton style={{ marginLeft: '8px' }} width=\"98%\" height=\"75px\" />\r\n                </div>\r\n            </Paper>\r\n        )\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <Snackbar open={allertProps.open} autoHideDuration={4000} onClose={handleAllertClose}>\r\n                <Alert onClose={handleAllertClose} severity={allertProps.type}>\r\n                    {allertProps.text}\r\n                </Alert>\r\n            </Snackbar>\r\n\r\n            {employees.length === 0 ? tabSkeleton() :\r\n                <Paper className={classes.root}>\r\n                    <div className={classes.tabTop}>\r\n                        {isSingle === undefined ?\r\n                            <h2 >Select Team Members:</h2> :\r\n                            <h2 >Select Team Leader:</h2>\r\n                        }\r\n                        <Button\r\n                            disabled={selEmployees.length <= 0}\r\n                            variant=\"contained\" color=\"primary\"\r\n                            onClick={hendleAddMembers}\r\n                        >\r\n                            Add Selected\r\n                        </Button>\r\n                    </div>\r\n                    <Divider variant=\"inset\" style={{ width: \"100%\", margin: \"0\" }} />\r\n                    <Toolbar className={classes.searchBox}>\r\n                        <DarkTextField\r\n                            onChange={handleChangeSearchParams}\r\n                            label='Search...'\r\n                            name='searchInput'\r\n                        />\r\n                        <DarkSelect\r\n                            label=\"Order by\"\r\n                            name=\"orderBy\"\r\n                            collection={orderOptions}\r\n                            value={searchParams.orderBy}\r\n                            onChange={handleChangeSearchParams}\r\n                        />\r\n                        <DarkSelect\r\n                            label=\"Position\"\r\n                            name=\"positionSelect\"\r\n                            collection={positions}\r\n                            value={searchParams.position}\r\n                            onChange={handleChangeSearchParams}\r\n                        />\r\n                        <DarkSelect\r\n                            label=\"Seniority\"\r\n                            name=\"senioritySelect\"\r\n                            collection={seniorityLvs}\r\n                            value={searchParams.seniority}\r\n                            onChange={handleChangeSearchParams}\r\n                        />\r\n                        <DarkSelect\r\n                            label=\"Department\"\r\n                            name=\"departmentSelect\"\r\n                            collection={departments}\r\n                            value={searchParams.department}\r\n                            onChange={handleChangeSearchParams}\r\n                        />\r\n                        <DarkSelect\r\n                            label=\"Work Type\"\r\n                            name=\"isRemote\"\r\n                            collection={remoteOptions}\r\n                            value={searchParams.isRemote}\r\n                            onChange={handleChangeSearchParams}\r\n                        />\r\n                        <Button variant=\"contained\" color=\"primary\" onClick={handleSearch}>Search</Button>\r\n                    </Toolbar>\r\n                    <Divider variant=\"inset\" style={{ width: \"100%\", margin: \"0\" }} />\r\n                    <TableContainer className={classes.container}>\r\n                        <Table stickyHeader size=\"small\">\r\n                            <TableHead className={classes.tabHead}>\r\n                                <TableRow >\r\n                                    <StyledTableCell align=\"center\">\r\n\r\n                                    </StyledTableCell>\r\n                                    <StyledTableCell align=\"center\">\r\n                                        ID\r\n                                    </StyledTableCell>\r\n                                    <StyledTableCell align=\"center\">\r\n                                        Name\r\n                                    </StyledTableCell>\r\n                                    <StyledTableCell align=\"center\">\r\n                                        Surname\r\n                                    </StyledTableCell>\r\n                                    <StyledTableCell align=\"center\">\r\n                                        Email\r\n                                    </StyledTableCell>\r\n                                    <StyledTableCell align=\"center\">\r\n                                        Position\r\n                                    </StyledTableCell>\r\n                                    <StyledTableCell align=\"center\">\r\n                                        Seniority\r\n                                    </StyledTableCell>\r\n                                    <StyledTableCell align=\"center\">\r\n                                        Department\r\n                                    </StyledTableCell>\r\n                                    <StyledTableCell align=\"center\">\r\n                                        Remote Work\r\n                                    </StyledTableCell>\r\n                                </TableRow>\r\n                            </TableHead>\r\n                            <TableBody className={classes.tab}>\r\n                                {employees.map((employee, index) => {\r\n                                    const isItemSelected = isSelected(employee.id);\r\n                                    return (\r\n                                        <TableRow\r\n                                            hover\r\n                                            key={index}\r\n                                            role=\"checkbox\"\r\n                                            selected={isItemSelected}\r\n                                            onClick={(e) => handleRowClick(e, employee)}\r\n                                        >\r\n                                            <StyledTableCell align=\"center\">\r\n                                                <Checkbox\r\n                                                    checked={isItemSelected}\r\n                                                />\r\n                                            </StyledTableCell>\r\n                                            <StyledTableCell align=\"center\">\r\n                                                {employee.id}\r\n                                            </StyledTableCell>\r\n                                            <StyledTableCell align=\"center\">\r\n                                                {employee.person.name}\r\n                                            </StyledTableCell>\r\n                                            <StyledTableCell align=\"center\">\r\n                                                {employee.person.surname}\r\n                                            </StyledTableCell>\r\n                                            <StyledTableCell align=\"center\">\r\n                                                {employee.person.email}\r\n                                            </StyledTableCell>\r\n                                            <StyledTableCell align=\"center\">\r\n                                                {employee.position.name}\r\n                                            </StyledTableCell>\r\n                                            <StyledTableCell align=\"center\">\r\n                                                {employee.seniority}\r\n                                            </StyledTableCell>\r\n                                            <StyledTableCell align=\"center\">\r\n                                                {employee.department.name}\r\n                                            </StyledTableCell>\r\n                                            <StyledTableCell align=\"center\">\r\n                                                {employee.remoteWork === true ?\r\n                                                    <CheckCircleIcon /> : <CloseIcon />}\r\n                                            </StyledTableCell>\r\n                                        </TableRow>\r\n                                    )\r\n                                })}\r\n                            </TableBody>\r\n                        </Table>\r\n                    </TableContainer>\r\n                    <div style={{ display: 'flex', justifyContent: 'space-between' }}>\r\n                        {selEmployees.length <= 0 ? <div></div> :\r\n                            <div style={{ display: 'flex', marginTop: '8px' }}>\r\n                                <h3 style={{ margin: '6px 0 6px 10px' }}>{'Selected: ' + selEmployees.length}</h3>\r\n                                <Fab className={classes.selButton} color=\"primary\" onClick={() => setEmployees(selEmployees)}><VisibilityIcon /></Fab>\r\n                                <Fab className={classes.selButton} color=\"primary\" onClick={handleUnselectAll}><ClearIcon /></Fab>\r\n                            </div>\r\n\r\n                        }\r\n                        <TablePagination\r\n                            className={classes.pagination}\r\n                            rowsPerPageOptions={[9, 18, 25, 32]}\r\n                            component=\"div\"\r\n                            count={totalItems}\r\n                            rowsPerPage={rowsPerPage}\r\n                            page={page}\r\n                            onPageChange={handleChangePage}\r\n                            onRowsPerPageChange={handleChangeRowsPerPage}\r\n                        />\r\n                    </div>\r\n                </Paper>\r\n            }\r\n\r\n\r\n        </div>\r\n    );\r\n}\r\nexport default AddTeamMembers;"]},"metadata":{},"sourceType":"module"}