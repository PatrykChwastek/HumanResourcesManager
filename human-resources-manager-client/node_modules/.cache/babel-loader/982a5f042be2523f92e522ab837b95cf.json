{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\Komputer\\\\source\\\\repos\\\\HumanResourcesManager\\\\human-resources-manager-client\\\\src\\\\Components\\\\UserTasks.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport { DragDropContext, Draggable, Droppable } from \"react-beautiful-dnd\";\nimport APIURL from '../Services/Globals';\nconst tasksColumns = [{\n  columnId: \"requested\",\n  name: \"Requested\",\n  items: []\n}, {\n  columnId: \"todo\",\n  name: \"To do\",\n  items: []\n}, {\n  columnId: \"inprogress\",\n  name: \"In Progress\",\n  items: []\n}];\n\nconst onDragEnd = (result, columns, setColumns) => {\n  if (!result.destination) return;\n  const {\n    source,\n    destination\n  } = result;\n  const sourceColumn = columns[source.droppableId];\n  const destColumn = columns[destination.droppableId];\n  const sourceItems = [...sourceColumn.items];\n  const destItems = [...destColumn.items];\n  const [removed] = sourceItems.splice(source.index, 1); //destItems.splice(destination.index, 0, removed);\n\n  destItems.splice(destItems.length, 0, removed);\n  setColumns({ ...columns,\n    [source.droppableId]: { ...sourceColumn,\n      items: sourceItems\n    },\n    [destination.droppableId]: { ...destColumn,\n      items: destItems\n    }\n  });\n};\n\nconst UserTasks = () => {\n  _s();\n\n  const [columns, setColumns] = useState({\n    ['requested']: {\n      columnId: \"requested\",\n      name: \"Requested\",\n      items: []\n    },\n    ['todo']: {\n      columnId: \"todo\",\n      name: \"To do\",\n      items: []\n    },\n    ['inprogress']: {\n      columnId: \"inprogress\",\n      name: \"In Progress\",\n      items: []\n    }\n  });\n  useEffect(() => {\n    getTasks(1, 10, 12, \"Reqested\").then(data => {\n      adddItemsToColumn(columns.requested, data.items);\n      tasksColumns[2].items = data.items;\n      console.log(columns);\n      console.log(\"--------------------------------\");\n      console.log(data.items);\n    });\n    ;\n  }, []);\n\n  const adddItemsToColumn = (column, items) => {\n    setColumns({ ...columns,\n      [column.columnId]: { ...column,\n        items: items\n      }\n    });\n  };\n\n  const getTasks = async (page, size, employeeid, status) => {\n    const requestOptions = {\n      method: 'Get',\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    };\n    return await fetch(APIURL + `tasks?page=${page}&size=${size}&employeeid=${employeeid}&status=${status}`, requestOptions).then(response => {\n      if (response.ok) return response.json();else return Promise.reject();\n    }).then(data => {\n      return data;\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      display: \"flex\",\n      justifyContent: \"center\",\n      height: \"100%\"\n    },\n    children: /*#__PURE__*/_jsxDEV(DragDropContext, {\n      onDragEnd: result => onDragEnd(result, columns, setColumns),\n      children: Object.entries(columns).map(([columnId, column], index) => {\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: \"flex\",\n            flexDirection: \"column\",\n            alignItems: \"center\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            children: column.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 121,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              margin: 8\n            },\n            children: /*#__PURE__*/_jsxDEV(Droppable, {\n              droppableId: columnId,\n              children: (provided, snapshot) => {\n                return /*#__PURE__*/_jsxDEV(\"div\", { ...provided.droppableProps,\n                  ref: provided.innerRef,\n                  style: {\n                    background: snapshot.isDraggingOver ? \"lightblue\" : \"lightgrey\",\n                    padding: 4,\n                    width: 250,\n                    minHeight: 500\n                  },\n                  children: [column.items.map((item, index) => {\n                    return /*#__PURE__*/_jsxDEV(Draggable, {\n                      draggableId: item.id,\n                      index: index,\n                      children: (provided, snapshot) => {\n                        return /*#__PURE__*/_jsxDEV(\"div\", {\n                          ref: provided.innerRef,\n                          ...provided.draggableProps,\n                          ...provided.dragHandleProps,\n                          style: {\n                            userSelect: \"none\",\n                            padding: 16,\n                            margin: \"0 0 8px 0\",\n                            minHeight: \"50px\",\n                            backgroundColor: snapshot.isDragging ? \"#263B4A\" : \"#456C86\",\n                            color: \"white\",\n                            ...provided.draggableProps.style\n                          },\n                          children: item.name\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 147,\n                          columnNumber: 69\n                        }, this);\n                      }\n                    }, item.id, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 140,\n                      columnNumber: 57\n                    }, this);\n                  }), provided.placeholder]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 126,\n                  columnNumber: 45\n                }, this);\n              }\n            }, columnId, false, {\n              fileName: _jsxFileName,\n              lineNumber: 123,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 122,\n            columnNumber: 29\n          }, this)]\n        }, columnId, true, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 25\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 107,\n    columnNumber: 9\n  }, this);\n};\n\n_s(UserTasks, \"jC8dYkluuxyLExNHQQbxjDiwWFg=\");\n\n_c = UserTasks;\nexport default UserTasks;\n\nvar _c;\n\n$RefreshReg$(_c, \"UserTasks\");","map":{"version":3,"sources":["C:/Users/Komputer/source/repos/HumanResourcesManager/human-resources-manager-client/src/Components/UserTasks.js"],"names":["React","useEffect","useState","DragDropContext","Draggable","Droppable","APIURL","tasksColumns","columnId","name","items","onDragEnd","result","columns","setColumns","destination","source","sourceColumn","droppableId","destColumn","sourceItems","destItems","removed","splice","index","length","UserTasks","getTasks","then","data","adddItemsToColumn","requested","console","log","column","page","size","employeeid","status","requestOptions","method","headers","fetch","response","ok","json","Promise","reject","display","justifyContent","height","Object","entries","map","flexDirection","alignItems","margin","provided","snapshot","droppableProps","innerRef","background","isDraggingOver","padding","width","minHeight","item","id","draggableProps","dragHandleProps","userSelect","backgroundColor","isDragging","color","style","placeholder"],"mappings":";;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,SAASC,eAAT,EAA0BC,SAA1B,EAAqCC,SAArC,QAAsD,qBAAtD;AACA,OAAOC,MAAP,MAAmB,qBAAnB;AAEA,MAAMC,YAAY,GAAG,CACjB;AACIC,EAAAA,QAAQ,EAAE,WADd;AAEIC,EAAAA,IAAI,EAAE,WAFV;AAGIC,EAAAA,KAAK,EAAE;AAHX,CADiB,EAMjB;AACIF,EAAAA,QAAQ,EAAE,MADd;AAEIC,EAAAA,IAAI,EAAE,OAFV;AAGIC,EAAAA,KAAK,EAAE;AAHX,CANiB,EAWjB;AACIF,EAAAA,QAAQ,EAAE,YADd;AAEIC,EAAAA,IAAI,EAAE,aAFV;AAGIC,EAAAA,KAAK,EAAE;AAHX,CAXiB,CAArB;;AAkBA,MAAMC,SAAS,GAAG,CAACC,MAAD,EAASC,OAAT,EAAkBC,UAAlB,KAAiC;AAC/C,MAAI,CAACF,MAAM,CAACG,WAAZ,EAAyB;AACzB,QAAM;AAAEC,IAAAA,MAAF;AAAUD,IAAAA;AAAV,MAA0BH,MAAhC;AAEA,QAAMK,YAAY,GAAGJ,OAAO,CAACG,MAAM,CAACE,WAAR,CAA5B;AACA,QAAMC,UAAU,GAAGN,OAAO,CAACE,WAAW,CAACG,WAAb,CAA1B;AACA,QAAME,WAAW,GAAG,CAAC,GAAGH,YAAY,CAACP,KAAjB,CAApB;AACA,QAAMW,SAAS,GAAG,CAAC,GAAGF,UAAU,CAACT,KAAf,CAAlB;AACA,QAAM,CAACY,OAAD,IAAYF,WAAW,CAACG,MAAZ,CAAmBP,MAAM,CAACQ,KAA1B,EAAiC,CAAjC,CAAlB,CAR+C,CAU/C;;AAEAH,EAAAA,SAAS,CAACE,MAAV,CAAiBF,SAAS,CAACI,MAA3B,EAAmC,CAAnC,EAAsCH,OAAtC;AACAR,EAAAA,UAAU,CAAC,EACP,GAAGD,OADI;AAEP,KAACG,MAAM,CAACE,WAAR,GAAsB,EAClB,GAAGD,YADe;AAElBP,MAAAA,KAAK,EAAEU;AAFW,KAFf;AAMP,KAACL,WAAW,CAACG,WAAb,GAA2B,EACvB,GAAGC,UADoB;AAEvBT,MAAAA,KAAK,EAAEW;AAFgB;AANpB,GAAD,CAAV;AAWH,CAxBD;;AA0BA,MAAMK,SAAS,GAAG,MAAM;AAAA;;AACpB,QAAM,CAACb,OAAD,EAAUC,UAAV,IAAwBZ,QAAQ,CAAC;AACnC,KAAC,WAAD,GAAe;AACXM,MAAAA,QAAQ,EAAE,WADC;AAEXC,MAAAA,IAAI,EAAE,WAFK;AAGXC,MAAAA,KAAK,EAAE;AAHI,KADoB;AAMnC,KAAC,MAAD,GAAU;AACNF,MAAAA,QAAQ,EAAE,MADJ;AAENC,MAAAA,IAAI,EAAE,OAFA;AAGNC,MAAAA,KAAK,EAAE;AAHD,KANyB;AAWnC,KAAC,YAAD,GAAgB;AACZF,MAAAA,QAAQ,EAAE,YADE;AAEZC,MAAAA,IAAI,EAAE,aAFM;AAGZC,MAAAA,KAAK,EAAE;AAHK;AAXmB,GAAD,CAAtC;AAkBAT,EAAAA,SAAS,CAAC,MAAM;AACZ0B,IAAAA,QAAQ,CAAC,CAAD,EAAI,EAAJ,EAAQ,EAAR,EAAY,UAAZ,CAAR,CAAgCC,IAAhC,CAAsCC,IAAD,IAAU;AAC3CC,MAAAA,iBAAiB,CAACjB,OAAO,CAACkB,SAAT,EAAoBF,IAAI,CAACnB,KAAzB,CAAjB;AACAH,MAAAA,YAAY,CAAC,CAAD,CAAZ,CAAgBG,KAAhB,GAAwBmB,IAAI,CAACnB,KAA7B;AACAsB,MAAAA,OAAO,CAACC,GAAR,CAAYpB,OAAZ;AACAmB,MAAAA,OAAO,CAACC,GAAR,CAAY,kCAAZ;AACAD,MAAAA,OAAO,CAACC,GAAR,CAAYJ,IAAI,CAACnB,KAAjB;AACH,KAND;AAMG;AACN,GARQ,EAQN,EARM,CAAT;;AAUA,QAAMoB,iBAAiB,GAAG,CAACI,MAAD,EAASxB,KAAT,KAAmB;AACzCI,IAAAA,UAAU,CAAC,EACP,GAAGD,OADI;AACK,OAACqB,MAAM,CAAC1B,QAAR,GAAmB,EAC3B,GAAG0B,MADwB;AAE3BxB,QAAAA,KAAK,EAAEA;AAFoB;AADxB,KAAD,CAAV;AAMH,GAPD;;AASA,QAAMiB,QAAQ,GAAG,OAAOQ,IAAP,EAAaC,IAAb,EAAmBC,UAAnB,EAA+BC,MAA/B,KAA0C;AACvD,UAAMC,cAAc,GAAG;AACnBC,MAAAA,MAAM,EAAE,KADW;AAEnBC,MAAAA,OAAO,EAAE;AAAE,wBAAgB;AAAlB;AAFU,KAAvB;AAIA,WAAO,MAAMC,KAAK,CAACpC,MAAM,GACpB,cAAa6B,IAAK,SAAQC,IAAK,eAAcC,UAAW,WAAUC,MAAO,EAD5D,EAEdC,cAFc,CAAL,CAGXX,IAHW,CAGLe,QAAD,IAAc;AACjB,UAAIA,QAAQ,CAACC,EAAb,EACI,OAAOD,QAAQ,CAACE,IAAT,EAAP,CADJ,KAGI,OAAOC,OAAO,CAACC,MAAR,EAAP;AACP,KARY,EASRnB,IATQ,CASHC,IAAI,IAAI;AACV,aAAOA,IAAP;AACH,KAXQ,CAAb;AAYH,GAjBD;;AAmBA,sBACI;AAAK,IAAA,KAAK,EAAE;AAAEmB,MAAAA,OAAO,EAAE,MAAX;AAAmBC,MAAAA,cAAc,EAAE,QAAnC;AAA6CC,MAAAA,MAAM,EAAE;AAArD,KAAZ;AAAA,2BACI,QAAC,eAAD;AACI,MAAA,SAAS,EAAGtC,MAAD,IAAYD,SAAS,CAACC,MAAD,EAASC,OAAT,EAAkBC,UAAlB,CADpC;AAAA,gBAGKqC,MAAM,CAACC,OAAP,CAAevC,OAAf,EAAwBwC,GAAxB,CAA4B,CAAC,CAAC7C,QAAD,EAAW0B,MAAX,CAAD,EAAqBV,KAArB,KAA+B;AACxD,4BACI;AACI,UAAA,KAAK,EAAE;AACHwB,YAAAA,OAAO,EAAE,MADN;AAEHM,YAAAA,aAAa,EAAE,QAFZ;AAGHC,YAAAA,UAAU,EAAE;AAHT,WADX;AAAA,kCAQI;AAAA,sBAAKrB,MAAM,CAACzB;AAAZ;AAAA;AAAA;AAAA;AAAA,kBARJ,eASI;AAAK,YAAA,KAAK,EAAE;AAAE+C,cAAAA,MAAM,EAAE;AAAV,aAAZ;AAAA,mCACI,QAAC,SAAD;AAAW,cAAA,WAAW,EAAEhD,QAAxB;AAAA,wBACK,CAACiD,QAAD,EAAWC,QAAX,KAAwB;AACrB,oCACI,oBACQD,QAAQ,CAACE,cADjB;AAEI,kBAAA,GAAG,EAAEF,QAAQ,CAACG,QAFlB;AAGI,kBAAA,KAAK,EAAE;AACHC,oBAAAA,UAAU,EAAEH,QAAQ,CAACI,cAAT,GACN,WADM,GAEN,WAHH;AAIHC,oBAAAA,OAAO,EAAE,CAJN;AAKHC,oBAAAA,KAAK,EAAE,GALJ;AAMHC,oBAAAA,SAAS,EAAE;AANR,mBAHX;AAAA,6BAYK/B,MAAM,CAACxB,KAAP,CAAa2C,GAAb,CAAiB,CAACa,IAAD,EAAO1C,KAAP,KAAiB;AAC/B,wCACI,QAAC,SAAD;AAEI,sBAAA,WAAW,EAAE0C,IAAI,CAACC,EAFtB;AAGI,sBAAA,KAAK,EAAE3C,KAHX;AAAA,gCAKK,CAACiC,QAAD,EAAWC,QAAX,KAAwB;AACrB,4CACI;AACI,0BAAA,GAAG,EAAED,QAAQ,CAACG,QADlB;AAAA,6BAEQH,QAAQ,CAACW,cAFjB;AAAA,6BAGQX,QAAQ,CAACY,eAHjB;AAII,0BAAA,KAAK,EAAE;AACHC,4BAAAA,UAAU,EAAE,MADT;AAEHP,4BAAAA,OAAO,EAAE,EAFN;AAGHP,4BAAAA,MAAM,EAAE,WAHL;AAIHS,4BAAAA,SAAS,EAAE,MAJR;AAKHM,4BAAAA,eAAe,EAAEb,QAAQ,CAACc,UAAT,GACX,SADW,GAEX,SAPH;AAQHC,4BAAAA,KAAK,EAAE,OARJ;AASH,+BAAGhB,QAAQ,CAACW,cAAT,CAAwBM;AATxB,2BAJX;AAAA,oCAgBKR,IAAI,CAACzD;AAhBV;AAAA;AAAA;AAAA;AAAA,gCADJ;AAoBH;AA1BL,uBACSyD,IAAI,CAACC,EADd;AAAA;AAAA;AAAA;AAAA,4BADJ;AA8BH,mBA/BA,CAZL,EA4CKV,QAAQ,CAACkB,WA5Cd;AAAA;AAAA;AAAA;AAAA;AAAA,wBADJ;AAgDH;AAlDL,eAAuCnE,QAAvC;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,kBATJ;AAAA,WAMSA,QANT;AAAA;AAAA;AAAA;AAAA,gBADJ;AAkEH,OAnEA;AAHL;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,UADJ;AA4EH,CArID;;GAAMkB,S;;KAAAA,S;AAsIN,eAAeA,SAAf","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { DragDropContext, Draggable, Droppable } from \"react-beautiful-dnd\";\r\nimport APIURL from '../Services/Globals';\r\n\r\nconst tasksColumns = [\r\n    {\r\n        columnId: \"requested\",\r\n        name: \"Requested\",\r\n        items: []\r\n    },\r\n    {\r\n        columnId: \"todo\",\r\n        name: \"To do\",\r\n        items: []\r\n    },\r\n    {\r\n        columnId: \"inprogress\",\r\n        name: \"In Progress\",\r\n        items: []\r\n    }\r\n];\r\n\r\nconst onDragEnd = (result, columns, setColumns) => {\r\n    if (!result.destination) return;\r\n    const { source, destination } = result;\r\n\r\n    const sourceColumn = columns[source.droppableId];\r\n    const destColumn = columns[destination.droppableId];\r\n    const sourceItems = [...sourceColumn.items];\r\n    const destItems = [...destColumn.items];\r\n    const [removed] = sourceItems.splice(source.index, 1);\r\n\r\n    //destItems.splice(destination.index, 0, removed);\r\n\r\n    destItems.splice(destItems.length, 0, removed);\r\n    setColumns({\r\n        ...columns,\r\n        [source.droppableId]: {\r\n            ...sourceColumn,\r\n            items: sourceItems\r\n        },\r\n        [destination.droppableId]: {\r\n            ...destColumn,\r\n            items: destItems\r\n        }\r\n    });\r\n};\r\n\r\nconst UserTasks = () => {\r\n    const [columns, setColumns] = useState({\r\n        ['requested']: {\r\n            columnId: \"requested\",\r\n            name: \"Requested\",\r\n            items: []\r\n        },\r\n        ['todo']: {\r\n            columnId: \"todo\",\r\n            name: \"To do\",\r\n            items: []\r\n        },\r\n        ['inprogress']: {\r\n            columnId: \"inprogress\",\r\n            name: \"In Progress\",\r\n            items: []\r\n        }\r\n    });\r\n\r\n    useEffect(() => {\r\n        getTasks(1, 10, 12, \"Reqested\").then((data) => {\r\n            adddItemsToColumn(columns.requested, data.items)\r\n            tasksColumns[2].items = data.items;\r\n            console.log(columns);\r\n            console.log(\"--------------------------------\");\r\n            console.log(data.items);\r\n        });;\r\n    }, []);\r\n\r\n    const adddItemsToColumn = (column, items) => {\r\n        setColumns({\r\n            ...columns, [column.columnId]: {\r\n                ...column,\r\n                items: items\r\n            }\r\n        })\r\n    }\r\n\r\n    const getTasks = async (page, size, employeeid, status) => {\r\n        const requestOptions = {\r\n            method: 'Get',\r\n            headers: { 'Content-Type': 'application/json' }\r\n        };\r\n        return await fetch(APIURL +\r\n            `tasks?page=${page}&size=${size}&employeeid=${employeeid}&status=${status}`,\r\n            requestOptions\r\n        ).then((response) => {\r\n            if (response.ok)\r\n                return response.json();\r\n            else\r\n                return Promise.reject();\r\n        })\r\n            .then(data => {\r\n                return data\r\n            })\r\n    }\r\n\r\n    return (\r\n        <div style={{ display: \"flex\", justifyContent: \"center\", height: \"100%\" }}>\r\n            <DragDropContext\r\n                onDragEnd={(result) => onDragEnd(result, columns, setColumns)}\r\n            >\r\n                {Object.entries(columns).map(([columnId, column], index) => {\r\n                    return (\r\n                        <div\r\n                            style={{\r\n                                display: \"flex\",\r\n                                flexDirection: \"column\",\r\n                                alignItems: \"center\"\r\n                            }}\r\n                            key={columnId}\r\n                        >\r\n                            <h2>{column.name}</h2>\r\n                            <div style={{ margin: 8 }}>\r\n                                <Droppable droppableId={columnId} key={columnId}>\r\n                                    {(provided, snapshot) => {\r\n                                        return (\r\n                                            <div\r\n                                                {...provided.droppableProps}\r\n                                                ref={provided.innerRef}\r\n                                                style={{\r\n                                                    background: snapshot.isDraggingOver\r\n                                                        ? \"lightblue\"\r\n                                                        : \"lightgrey\",\r\n                                                    padding: 4,\r\n                                                    width: 250,\r\n                                                    minHeight: 500\r\n                                                }}\r\n                                            >\r\n                                                {column.items.map((item, index) => {\r\n                                                    return (\r\n                                                        <Draggable\r\n                                                            key={item.id}\r\n                                                            draggableId={item.id}\r\n                                                            index={index}\r\n                                                        >\r\n                                                            {(provided, snapshot) => {\r\n                                                                return (\r\n                                                                    <div\r\n                                                                        ref={provided.innerRef}\r\n                                                                        {...provided.draggableProps}\r\n                                                                        {...provided.dragHandleProps}\r\n                                                                        style={{\r\n                                                                            userSelect: \"none\",\r\n                                                                            padding: 16,\r\n                                                                            margin: \"0 0 8px 0\",\r\n                                                                            minHeight: \"50px\",\r\n                                                                            backgroundColor: snapshot.isDragging\r\n                                                                                ? \"#263B4A\"\r\n                                                                                : \"#456C86\",\r\n                                                                            color: \"white\",\r\n                                                                            ...provided.draggableProps.style\r\n                                                                        }}\r\n                                                                    >\r\n                                                                        {item.name}\r\n                                                                    </div>\r\n                                                                );\r\n                                                            }}\r\n                                                        </Draggable>\r\n                                                    );\r\n                                                })}\r\n                                                {provided.placeholder}\r\n                                            </div>\r\n                                        );\r\n                                    }}\r\n                                </Droppable>\r\n                            </div>\r\n                        </div>\r\n                    );\r\n                })}\r\n            </DragDropContext>\r\n        </div>\r\n    );\r\n}\r\nexport default UserTasks;"]},"metadata":{},"sourceType":"module"}