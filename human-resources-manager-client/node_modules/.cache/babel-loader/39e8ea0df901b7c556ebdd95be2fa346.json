{"ast":null,"code":"import { APIURL } from '../Components/GlobalComponents';\n\nconst login = loginData => {\n  const requestOptions = {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify(loginData)\n  };\n  fetch(APIURL + 'users/login', requestOptions).then(response => response.json()).then(data => localStorage.setItem(\"user\", JSON.stringify(data)));\n};\n\nconst logout = () => {\n  localStorage.removeItem(\"user\");\n};\n\nconst getCurrentUser = () => {\n  return JSON.parse(localStorage.getItem(\"user\"));\n};\n\nconst authHeader = () => {\n  const user = JSON.parse(localStorage.getItem('user'));\n  console.log(user.token);\n\n  if (user && user.token) {\n    return 'Bearer ' + JSON.stringify(user.accessToken);\n  } else {\n    return {};\n  }\n};\n\nconst testRoles = () => {\n  const requestOptions = {\n    method: 'GET',\n    headers: {\n      'Content-Type': 'application/json',\n      'Authorization': authHeader()\n    }\n  };\n  fetch(APIURL + 'users?page=1&size=4', requestOptions).then(response => response.json()).then(data => console.log(data));\n};\n\nexport default {\n  login,\n  logout,\n  getCurrentUser,\n  authHeader,\n  testRoles\n};","map":{"version":3,"sources":["C:/Users/Komputer/source/repos/HumanResourcesManager/human-resources-manager-client/src/Services/AuthService.js"],"names":["APIURL","login","loginData","requestOptions","method","headers","body","JSON","stringify","fetch","then","response","json","data","localStorage","setItem","logout","removeItem","getCurrentUser","parse","getItem","authHeader","user","console","log","token","accessToken","testRoles"],"mappings":"AAAA,SAASA,MAAT,QAAuB,gCAAvB;;AAEA,MAAMC,KAAK,GAAIC,SAAD,IAAe;AACzB,QAAMC,cAAc,GAAG;AACnBC,IAAAA,MAAM,EAAE,MADW;AAEnBC,IAAAA,OAAO,EAAE;AAAE,sBAAgB;AAAlB,KAFU;AAGnBC,IAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAeN,SAAf;AAHa,GAAvB;AAKAO,EAAAA,KAAK,CAACT,MAAM,GAAG,aAAV,EAAyBG,cAAzB,CAAL,CACKO,IADL,CACUC,QAAQ,IAAIA,QAAQ,CAACC,IAAT,EADtB,EAEKF,IAFL,CAEUG,IAAI,IACNC,YAAY,CAACC,OAAb,CAAqB,MAArB,EAA6BR,IAAI,CAACC,SAAL,CAAeK,IAAf,CAA7B,CAHR;AAIH,CAVD;;AAYA,MAAMG,MAAM,GAAG,MAAM;AACjBF,EAAAA,YAAY,CAACG,UAAb,CAAwB,MAAxB;AACH,CAFD;;AAIA,MAAMC,cAAc,GAAG,MAAM;AACzB,SAAOX,IAAI,CAACY,KAAL,CAAWL,YAAY,CAACM,OAAb,CAAqB,MAArB,CAAX,CAAP;AACH,CAFD;;AAIA,MAAMC,UAAU,GAAG,MAAM;AACrB,QAAMC,IAAI,GAAGf,IAAI,CAACY,KAAL,CAAWL,YAAY,CAACM,OAAb,CAAqB,MAArB,CAAX,CAAb;AACAG,EAAAA,OAAO,CAACC,GAAR,CAAYF,IAAI,CAACG,KAAjB;;AACA,MAAIH,IAAI,IAAIA,IAAI,CAACG,KAAjB,EAAwB;AACpB,WAAO,YAAYlB,IAAI,CAACC,SAAL,CAAec,IAAI,CAACI,WAApB,CAAnB;AACH,GAFD,MAEO;AACH,WAAO,EAAP;AACH;AACJ,CARD;;AAUA,MAAMC,SAAS,GAAG,MAAM;AACpB,QAAMxB,cAAc,GAAG;AACnBC,IAAAA,MAAM,EAAE,KADW;AAEnBC,IAAAA,OAAO,EAAE;AAAE,sBAAgB,kBAAlB;AAAsC,uBAAiBgB,UAAU;AAAjE;AAFU,GAAvB;AAIAZ,EAAAA,KAAK,CAACT,MAAM,GAAG,qBAAV,EAAiCG,cAAjC,CAAL,CACKO,IADL,CACUC,QAAQ,IAAIA,QAAQ,CAACC,IAAT,EADtB,EAEKF,IAFL,CAEUG,IAAI,IAAIU,OAAO,CAACC,GAAR,CAAYX,IAAZ,CAFlB;AAGH,CARD;;AAUA,eAAe;AACXZ,EAAAA,KADW;AAEXe,EAAAA,MAFW;AAGXE,EAAAA,cAHW;AAIXG,EAAAA,UAJW;AAKXM,EAAAA;AALW,CAAf","sourcesContent":["import { APIURL } from '../Components/GlobalComponents';\r\n\r\nconst login = (loginData) => {\r\n    const requestOptions = {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify(loginData)\r\n    };\r\n    fetch(APIURL + 'users/login', requestOptions)\r\n        .then(response => response.json())\r\n        .then(data =>\r\n            localStorage.setItem(\"user\", JSON.stringify(data)))\r\n};\r\n\r\nconst logout = () => {\r\n    localStorage.removeItem(\"user\");\r\n};\r\n\r\nconst getCurrentUser = () => {\r\n    return JSON.parse(localStorage.getItem(\"user\"));\r\n};\r\n\r\nconst authHeader = () => {\r\n    const user = JSON.parse(localStorage.getItem('user'));\r\n    console.log(user.token);\r\n    if (user && user.token) {\r\n        return 'Bearer ' + JSON.stringify(user.accessToken);\r\n    } else {\r\n        return {};\r\n    }\r\n}\r\n\r\nconst testRoles = () => {\r\n    const requestOptions = {\r\n        method: 'GET',\r\n        headers: { 'Content-Type': 'application/json', 'Authorization': authHeader() },\r\n    };\r\n    fetch(APIURL + 'users?page=1&size=4', requestOptions)\r\n        .then(response => response.json())\r\n        .then(data => console.log(data))\r\n}\r\n\r\nexport default {\r\n    login,\r\n    logout,\r\n    getCurrentUser,\r\n    authHeader,\r\n    testRoles\r\n};"]},"metadata":{},"sourceType":"module"}